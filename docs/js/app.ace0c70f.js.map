{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4241","webpack:///./src/components/Overview.vue?7cad","webpack:///./src/components/PlayerInventory.vue?e6b5","webpack:///./src/components/Surroundings.vue?0d9d","webpack:///./src/components/InputBar.vue?1ff4","webpack:///./src/components/ContextMenu.vue?eb00","webpack:///./src/components/Output.vue?19c7","webpack:///./src/game/utils/direction.ts","webpack:///./src/App.vue?fac2","webpack:///./src/components/ContextMenu.vue?9c81","webpack:///src/components/ContextMenu.vue","webpack:///./src/components/ContextMenu.vue?ef87","webpack:///./src/components/ContextMenu.vue?1c8d","webpack:///./src/components/InputBar.vue?77e0","webpack:///src/components/InputBar.vue","webpack:///./src/components/InputBar.vue?e09d","webpack:///./src/components/InputBar.vue","webpack:///./src/components/Output.vue?b124","webpack:///./src/components/Message.vue?3d4c","webpack:///src/components/Message.vue","webpack:///./src/components/Message.vue?93ea","webpack:///./src/components/Message.vue?87e9","webpack:///src/components/Output.vue","webpack:///./src/components/Output.vue?ea80","webpack:///./src/components/Output.vue?58fd","webpack:///./src/components/Overview.vue?065f","webpack:///./src/game/entities/entity.ts","webpack:///./src/game/world/position.ts","webpack:///./src/game/utils/RNG.ts","webpack:///./src/game/utils/fighting.ts","webpack:///./src/game/entities/player.ts","webpack:///./src/vuex/store.ts","webpack:///./src/vuex/actions.ts","webpack:///./src/game/utils/colours.ts","webpack:///./src/game/overview/Display.ts","webpack:///./src/components/Overview.vue","webpack:///./src/components/Overview.vue?81a1","webpack:///./src/components/Overview.vue?fd59","webpack:///./src/components/PlayerInventory.vue?3c13","webpack:///src/components/PlayerInventory.vue","webpack:///./src/components/PlayerInventory.vue?275e","webpack:///./src/components/PlayerInventory.vue?1a41","webpack:///./src/components/Surroundings.vue?5381","webpack:///src/components/Surroundings.vue","webpack:///./src/components/Surroundings.vue?41f9","webpack:///./src/components/Surroundings.vue?c887","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/game/gameloop.ts","webpack:///./src/game/state/GameState.ts","webpack:///./src/game/items/gameItems.js","webpack:///./src/game/entities/creatures.ts","webpack:///./src/game/world/genTree.ts","webpack:///./src/game/world/Tile.ts","webpack:///./src/game/world/Chunk.ts","webpack:///./src/game/world/World.ts","webpack:///./src/game/state/gStates/gsMain.ts","webpack:///./src/game/utils/nameGenerator.ts","webpack:///./src/game/state/gStates/gsStart.ts","webpack:///./src/game/state/gsMan.ts","webpack:///./src/game/vue-game-plugin.ts","webpack:///./src/main.ts","webpack:///./src/components/Message.vue?d7a1"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Overview_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Overview_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PlayerInventory_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PlayerInventory_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Surroundings_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Surroundings_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InputBar_vue_vue_type_style_index_0_id_4e655706_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InputBar_vue_vue_type_style_index_0_id_4e655706_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ContextMenu_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ContextMenu_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Output_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Output_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","Direction","Appvue_type_template_id_3cdfab3c_render","_vm","this","_h","$createElement","_c","_self","attrs","id","on","click","hideContextMenu","contextmenu","$event","preventDefault","showContextMenu","staticRenderFns","ContextMenuvue_type_template_id_045e334f_render","directives","rawName","expression","ref","style","_l","item","staticClass","stopPropagation","handleAction","_v","_s","text","ContextMenuvue_type_template_id_045e334f_staticRenderFns","_data","items","pos","x","y","mixin","methods","contextMenuItems","vm","menuItems","event","comp","e","concat","$parent","$nextTick","ContextMenuvue_type_script_lang_js_","computed","show","_ref","document","getElementById","offsetHeight","offsetWidth","_ref2","posX","posY","left","innerWidth","top","innerHeight","isParent","action","components_ContextMenuvue_type_script_lang_js_","component","componentNormalizer","ContextMenu","InputBarvue_type_template_id_4e655706_scoped_true_render","type","placeholder","domProps","keypress","indexOf","_k","keyCode","submit","focus","inputBar","blur","input","target","composing","inputText","InputBarvue_type_template_id_4e655706_scoped_true_staticRenderFns","InputBarvue_type_script_lang_js_","$store","getters","set","newValue","dispatch","state","colour","colours","querySelector","test","trim","$game","receiveInputText","mounted","components_InputBarvue_type_script_lang_js_","InputBar_component","InputBar","Outputvue_type_template_id_b8fb7c80_render","msg","entity","message","_m","Outputvue_type_template_id_b8fb7c80_staticRenderFns","Messagevue_type_template_id_d9f2841e_render","innerHTML","Messagevue_type_template_id_d9f2841e_staticRenderFns","Messagevue_type_script_lang_js_","entityName","split","console","log","props","components_Messagevue_type_script_lang_js_","Message_component","Message","Outputvue_type_script_lang_js_","components","messages","watch","lastChild","scrollIntoView","components_Outputvue_type_script_lang_js_","Output_component","Output","Overviewvue_type_template_id_b9230306_render","Overviewvue_type_template_id_b9230306_staticRenderFns","parseDir","direction","NORTH","SOUTH","WEST","EAST","error","getDirStringFromVector","dir","join","EntityType","getRandomDirection","random","Math","floor","ActivityState","isPlayer","Player","entity_Entity","Entity","attributes","cooldown","currentActivityState","equipmentSlots","hp","level","position","symbol","classCallCheck","createClass","DEAD","current","undefined","MOVING","position_Position","Position","getRandomPosInChunk","chunkSize","VTS","RNG","min","max","attackSuccessChance","ac","dc","maxDamage","dmg","arm","pow","player_Player","_Entity","_this","arguments","possibleConstructorReturn","getPrototypeOf","armour","attackChance","attackSpeed","damage","dodgeChance","arms","fingers","equipped","hand","wrist","back","feet","heads","head","neck","legs","torso","waist","creaturesSlain","xp","inherits","xpToNextLevel","levelUp","isDead","dispatchAction","AddMessage","successChance","species","maxDmg","ceil","receiveDamage","addXP","round","amount","healed","totalBarLength","hpPercent","currentHPLength","hpReportString","repeat","padEnd","printHPReport","MovePlayer","creature","FIGHTING","getSpawnMessage","attack","vue_runtime_esm","use","vuex_esm","InitialState","commandMode","creatures","displayOrigin","highlit","player","splash","store","Store","actions","addCreature","commit","addMessage","addMessageAtPosition","_ref3","_ref4","clearHighlight","_ref5","dropItems","_ref6","enterCommand","_ref7","highlight","_ref8","tiles","moveCreature","_ref9","_ref10","newPos","movePlayer","_ref11","parseCommand","_","command","setCommandMode","_ref12","setDisplayOrigin","_ref13","vector","setInputText","_ref14","setPlayer","_ref15","setPlayerName","_ref16","setSplash","_ref17","val","setWorld","_ref18","world","creaturesAt","creaturesWithinRadius","radius","warn","instantMode","itemsOnTile","tile","getTile","playerLevel","playerName","playerPos","surroundings","surr","_loop","_loop2","_state$world","dist","abs","creaturesHere","filter","map","forEach","count","locations","expanded","totalValue","loc","plural","sort","a","b","worldExists","mutations","ADD_CREATURE","ADD_MESSAGE","_ref19","CLEAR_HIGHLIGHTED","DROP_ITEMS","_ref20","_tile$items","toConsumableArray","HIGHLIGHT_TILES","MOVE_CREATURE","_ref21","_state$creatures$VTS","MOVE_PLAYER","_ref22","_ref23","slicedToArray","SET_COMMAND_MODE","SET_DISPLAY_ORIGIN","SET_INPUT_TEXT","SET_PLAYER","SET_PLAYER_NAME","SET_SPLASH","SET_WORLD","START_GAME","vuex_store","actionGen","payload","AddCreature","AddMessageAtPosition","ClearHighlight","DropItems","EnterCommand","Highlight","MoveCreature","ParseCommand","SetCommandMode","SetDisplayOrigin","SetInputText","SetPlayer","SetPlayerName","SetSplash","SetWorld","levelColour","brightness","diff","display","lib","bg","fg","forceSquareRatio","drawWorld","clear","curOpts","getOptions","height","bot","width","right","hl","foreground","draw","Overviewvue_type_script_lang_ts_","extend","canvas","dOpts","displayX","offsetLeft","displayY","offsetTop","_this$$store$getters$","displayOriginX","displayOriginY","creaturesOnTile","itemDrops","getItemsPrettyOutput","reduce","arr","find","el","newItemEntry","resizeOverview","overviewDiv","_display$computeSize","computeSize","_display$computeSize2","setOptions","appendChild","getContainer","addEventListener","lodash_default","debounce","components_Overviewvue_type_script_lang_ts_","Overview_component","Overview","PlayerInventoryvue_type_template_id_6fc48455_render","PlayerInventoryvue_type_template_id_6fc48455_staticRenderFns","PlayerInventoryvue_type_script_lang_js_","components_PlayerInventoryvue_type_script_lang_js_","PlayerInventory_component","PlayerInventory","Surroundingsvue_type_template_id_28aa138c_render","creatureData","index","mouseenter","mouseleave","getStyle","button","toggleExpanded","expandedItem","_e","Surroundingsvue_type_template_id_28aa138c_staticRenderFns","Surroundingsvue_type_script_lang_js_","lvl","components_Surroundingsvue_type_script_lang_js_","Surroundings_component","Surroundings","Appvue_type_script_lang_js_","created","start","handleKeyUp","handleKeyDown","receiveInputKeyDown","receiveInputKeyUp","src_Appvue_type_script_lang_js_","App_component","App","gameloop","run","locationsToCreaturesMap","getCreaturesToUpdate","_Object$entries$_i","_Object$entries","_i","location","idleAggressive","aggressive","aggressiveCreature","targetPlayer","targetCreatures","update","entries","requestAnimationFrame","game_gameloop","GameState_GameState","GameState","gameItems","Map","Item","itemObject","ItemFactory","itemParams","Array","isArray","getRandomInRange","sum","fn","methodName","getItemValue","prop","range","slope","Crafting","has","addMethod","gameItems_this","Food","heal","edible","uncooked","gold","Ingredients","Trophies","AllCreatures","CreaturesTemplates","creatures_Creature","Creature","template","moveSpeed","minTotalHP","maxTotalHP","missChance","healthBar","namePlural","drops","harvest","items_gameItems","quantity","newItem","creatures_getGold","attacks","attacksToWeightsMap","weights","chance","attackName","getWeightedValue","att","minDamage","attackMessage","onDeath","onSpawn","global","getDeathMessage","_this2","acc","outputs","keys","itemName","output","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","err","return","move","dropChance","creatures_genCreatures","numberInChunk","spawnChance","creatureLevel","genTree","trees","prob","total","rand","tree","world_genTree","Tile_Tile","Tile","chunk","terrain","relPos","spawnRateModifiers","spawnrate","CHUNK_SIZE","Chunk_Chunk","Chunk","generate","_parseDir","_parseDir2","getChunk","tileX","tileY","size","pLvl","World_World","World","chunks","spawnChunk","genChunk","chunkCoords","chunkExists","getChunkFromTile","getTileFromWorldCoords","gsMain_MainGameState","_GameState","MainGameState","config_display","main","_overviewDiv$getBound","getBoundingClientRect","divWidth","divHeight","drawText","haveFoundTarget","targetCreature","gsMain","firstNames","lastNames","fullNames","generateName","f","gsStart_StartGameState","StartGameState","confirmPlayerName","toUpperCase","gsMan","nextState","gsStart","gsMan_GameStateManager","init","keyUp","keyDown","redraw","caller","install","Vue","options","StartGame","config","productionTip","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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1B,SAlJtCqf,EAAA,CAAmCrH,IA0JtB+H,GAAS,IAAIZ,GCrKpBa,GAAuB,CAC3B,OACA,YACA,UACA,SACA,QACA,UACA,SACA,UACA,WACA,aACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YACA,WACA,UACA,SACA,aACA,YACA,SACA,YACA,UACA,YACA,SACA,YACA,YACA,WACA,UACA,SACA,SACA,QACA,WACA,YACA,WACA,WACA,YACA,YACA,UACA,SACA,aACA,UACA,WACA,SACA,SACA,aACA,YACA,OACA,QACA,SACA,OACA,MACA,SACA,SACA,QACA,OACA,WACA,UACA,SACA,WACA,SACA,UACA,WACA,WACA,WACA,UACA,WACA,UACA,OACA,QACA,UACA,YACA,OACA,UACA,OACA,OACA,OACA,aACA,QACA,QACA,MACA,aACA,WACA,QACA,QACA,QACA,SACA,QACA,SACA,YACA,SACA,SACA,MACA,UACA,QACA,SACA,eACA,UACA,UACA,WACA,OACA,WACA,SACA,SACA,WACA,QACA,YACA,WACA,WACA,UACA,UACA,WACA,WACA,YACA,UACA,QACA,SACA,UACA,UACA,UACA,YACA,WACA,QACA,WACA,QACA,SACA,OACA,YACA,UACA,YACA,YACA,WACA,WACA,UACA,SACA,SACA,aACA,MACA,QACA,QACA,WACA,YACA,UACA,WACA,WACA,cACA,YACA,OACA,MACA,KACA,UACA,SACA,SACA,WACA,YACA,cACA,aACA,OACA,QACA,OACA,QACA,OACA,SACA,UACA,WACA,UACA,SACA,SACA,QACA,SACA,UACA,QACA,QACA,MACA,SACA,SACA,QAGIC,GAAsB,CAC1B,YACA,cACA,YACA,cACA,UACA,YACA,YACA,YACA,YACA,UACA,cACA,YACA,YACA,aACA,gBACA,eACA,SACA,aACA,cACA,UACA,YACA,WACA,WACA,gBACA,cACA,aACA,aACA,aACA,eACA,eACA,WACA,QACA,cACA,SACA,WACA,SACA,UACA,SACA,UACA,UACA,SACA,WACA,WACA,WACA,aACA,UACA,SACA,YACA,UACA,UACA,YACA,cACA,aACA,aACA,cACA,YACA,WACA,cACA,aACA,cACA,UACA,SACA,WACA,eACA,WACA,UACA,SACA,WACA,UACA,WACA,cACA,QACA,SACA,YACA,YACA,SACA,aACA,OACA,QACA,WACA,QACA,eACA,UACA,aACA,YACA,YACA,SACA,YACA,aACA,YACA,WACA,aACA,YACA,OACA,eACA,UACA,aACA,aACA,aACA,SACA,aACA,cACA,QACA,iBACA,SACA,YACA,QACA,aACA,WACA,YACA,aACA,cACA,UACA,aACA,gBACA,YACA,aACA,SACA,QACA,WACA,UACA,aACA,cACA,WACA,aACA,eACA,YACA,WACA,UACA,UACA,aACA,aACA,WACA,SACA,UACA,WACA,aACA,UACA,QACA,eACA,eACA,WACA,YACA,aACA,cACA,iBACA,eACA,aACA,gBACA,YACA,YACA,WACA,cACA,eACA,iBACA,YACA,eACA,gBACA,WACA,cACA,aACA,YACA,cACA,YACA,cACA,kBACA,cACA,YACA,WACA,aACA,cACA,YACA,cACA,YACA,WACA,YACA,cACA,YACA,eAGIC,GAAsB,CAC1B,yBACA,oBACA,sBACA,qBACA,sBACA,qBACA,gBACA,oBACA,wBACA,kBACA,yBACA,qBACA,uBACA,sBACA,uBACA,mBACA,wBACA,0BACA,2BACA,mBACA,kBACA,aACA,oBACA,aACA,uBACA,eACA,iBACA,gBACA,cACA,eACA,kBACA,eACA,oBACA,aACA,aACA,YACA,gBACA,kBACA,gBACA,kBACA,eACA,eACA,gBACA,kBACA,iBACA,0BACA,wBACA,kBACA,eACA,kBAGWC,GAAe,WAC1B,IAAI5nB,EAAO,GAEX,GAAI0L,KAAKD,SAAW,GAAK,CACvB,IAAIxK,EAAIyK,KAAKC,MAAMD,KAAKD,SAAWkc,GAAUxpB,QAC7C6B,EAAO2nB,GAAU1mB,OACZ,CACL,IAAI4mB,EAAInc,KAAKC,MAAMD,KAAKD,SAAWgc,GAAWtpB,QAC1CyB,EAAI8L,KAAKC,MAAMD,KA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","file":"js/app.ace0c70f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overview.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overview.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayerInventory.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayerInventory.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Surroundings.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Surroundings.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputBar.vue?vue&type=style&index=0&id=4e655706&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputBar.vue?vue&type=style&index=0&id=4e655706&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Output.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Output.vue?vue&type=style&index=0&lang=css&\"","export enum Direction {\n  NORTH = \"north\",\n  SOUTH = \"south\",\n  EAST = \"east\",\n  WEST = \"west\",\n}\n\nexport function parseDir(direction: Direction): [number, number] {\n  switch (direction) {\n    case Direction.NORTH:\n      return [0, -1];\n    case Direction.SOUTH:\n      return [0, 1];\n    case Direction.WEST:\n      return [-1, 0];\n    case Direction.EAST:\n      return [1, 0];\n    default:\n      console.error(`${direction} is not a valid direction.`);\n  }\n  return [0, 0];\n}\n\nexport function getDirStringFromVector(x: number, y: number): string {\n  let dir = [];\n  if (y < 0) dir.push(\"north\");\n  else if (y > 0) dir.push(\"south\");\n  if (x < 0) dir.push(\"west\");\n  else if (x > 0) dir.push(\"east\");\n  if (!x && !y) dir.push(\"here\");\n  return dir.join(\" \");\n}\n\nexport const getRandomDirection = (): Direction => {\n  const random = Math.floor(Math.random() * 4);\n\n  if (random < 1) {\n    return Direction.NORTH;\n  } else if (random < 2) {\n    return Direction.SOUTH;\n  } else if (random < 3) {\n    return Direction.EAST;\n  } else {\n    return Direction.WEST;\n  }\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"},on:{\"click\":_vm.hideContextMenu,\"contextmenu\":function($event){$event.preventDefault();return _vm.showContextMenu($event)}}},[_c('Output'),_c('Overview'),_c('surroundings'),_c('player-inventory'),_c('input-bar'),_c('context-menu')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],ref:\"menu\",style:(_vm.style),attrs:{\"id\":\"context-menu\"}},_vm._l((this.items),function(item,i){return _c('div',{key:i},[_c('div',{staticClass:\"context-item\",on:{\"click\":function($event){$event.stopPropagation();return _vm.handleAction(item)}}},[_vm._v(\"\\n      \"+_vm._s(item.text)+\"\\n    \")])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"context-menu\" v-show=\"show\" ref=\"menu\" :style=\"style\">\n    <div v-for=\"(item, i) in this.items\" :key=\"i\">\n      <div @click.stop=\"handleAction(item)\" class=\"context-item\">\n        {{item.text}}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nlet data = {\n  items: [],\n  pos: {\n    x: 0,\n    y: 0,\n  },\n};\n\nexport const mixin = {\n  methods: {\n    contextMenuItems(vm, menuItems, event) {},\n    hideContextMenu() {\n      data.items = [];\n    },\n    showContextMenu(event) {\n      let pos = { x: event.x, y: event.y };\n      let items = [];\n      let comp = this;\n      while (comp) {\n        let e = comp.contextMenuItems(comp, items, event) || [];\n        items = [].concat(items, e);\n        comp = comp.$parent;\n      }\n      data.items = items;\n      this.$nextTick(() => {\n        data.pos = pos;\n      });\n    },\n  },\n};\nexport default {\n  computed: {\n    show() {\n      return this.items.length > 0;\n    },\n    style() {\n      const { offsetWidth, offsetHeight } = document.getElementById(\n        \"context-menu\"\n      ) || { offsetHeight: 0, offsetWidth: 0 };\n      const [posX, posY] = [this.pos.x, this.pos.y];\n      return {\n        left:\n          posX + offsetWidth < window.innerWidth\n            ? `${posX}px`\n            : `${posX - offsetWidth}px`,\n        top:\n          posY + offsetHeight < window.innerHeight\n            ? `${posY}px`\n            : `${posY - offsetHeight}px`,\n      };\n    },\n  },\n  data() {\n    return data;\n  },\n  methods: {\n    handleAction(item) {\n      if (item.isParent) {\n        item.action();\n      } else {\n        item.action();\n        this.hideContextMenu();\n      }\n    },\n  },\n};\n</script>\n\n<style>\n#context-menu {\n  position: absolute;\n  max-width: 240px;\n  max-height: 90vh;\n  color: var(--text-blur);\n  background: var(--ui-border);\n  padding: 10px 0px;\n  z-index: 1;\n  border-radius: 4px;\n  box-shadow: 0px 2px 15px 0px #232323;\n}\n\n.context-item {\n  padding: 10px;\n  margin: 0;\n  cursor: pointer;\n}\n\n.context-item:hover {\n  background: var(--ui-dark);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContextMenu.vue?vue&type=template&id=045e334f&\"\nimport script from \"./ContextMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./ContextMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContextMenu.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"input-bar\"}},[_vm._v(\"\\n  > \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputText),expression:\"inputText\"}],attrs:{\"type\":\"text\",\"id\":\"input-text\",\"placeholder\":\"_\"},domProps:{\"value\":(_vm.inputText)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)},\"focus\":function($event){return _vm.inputBar('focus')},\"blur\":function($event){return _vm.inputBar('blur')},\"input\":function($event){if($event.target.composing){ return; }_vm.inputText=$event.target.value}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"input-bar\">\n    > <input type=\"text\" id=\"input-text\" placeholder=\"_\"\n     v-model=\"inputText\" @keypress.enter=\"submit\"\n     @focus=\"inputBar('focus')\" @blur=\"inputBar('blur')\"/>\n  </div>\n</template>\n\n<script>\nexport default {\n  computed: {\n    inputText: {\n      get() {\n        return this.$store.getters.inputText;\n      },\n      set(newValue) {\n        this.$store.dispatch(\"setInputText\", newValue);\n      },\n    },\n  },\n  methods: {\n    inputBar(state) {\n      const colours = [\"#434241\", \"#262626\"];\n      let colour;\n\n      switch (state) {\n        case \"focus\":\n          colour = colours[0];\n          this.$store.dispatch(\"setCommandMode\", \"text\");\n          break;\n        case \"blur\":\n          colour = colours[1];\n          this.$store.dispatch(\"setCommandMode\", \"instant\");\n          break;\n      }\n\n      document.querySelector(\"#input-bar\").style[\"background-color\"] = colour;\n      document.querySelector(\"#input-text\").style[\"background-color\"] = colour;\n    },\n    submit() {\n      // Only submit if there are non-whitespace chars\n      if (!/^\\s*$/.test(this.inputText)) {\n        let input = this.inputText.trim();\n        this.$store.dispatch(\"enterCommand\", input);\n        this.$game.receiveInputText(input);\n      }\n    },\n  },\n  mounted() {\n    document.querySelector(\"#input-text\").focus();\n  },\n};\n</script>\n\n<style scoped>\n#input-bar {\n  padding: 4px 10px 4px 10px;\n  color: var(--text);\n  background-color: var(--ui-darker);\n  font-family: \"Ubuntu Mono\", monospace;\n}\n\n#input-text {\n  width: 92%;\n  resize: auto;\n  padding: 4px 0px 4px 0px;\n  border-style: none;\n  outline: none;\n  background-color: var(--ui-darker);\n  /* Text */\n  color: var(--text);\n  font-size: 0.95em;\n  font-family: \"Ubuntu Mono\", monospace;\n  caret-color: var(--text-blur);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InputBar.vue?vue&type=template&id=4e655706&scoped=true&\"\nimport script from \"./InputBar.vue?vue&type=script&lang=js&\"\nexport * from \"./InputBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InputBar.vue?vue&type=style&index=0&id=4e655706&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e655706\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"output\"}},[_vm._l((_vm.messages),function(msg,i){return _c('message',{key:i,attrs:{\"entity\":msg.entity,\"message\":msg.message}})}),_vm._m(0)],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"messageBg\"}},[_c('div',{staticClass:\"entity\"}),_c('div',{staticClass:\"message\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"messages\",on:{\"contextmenu\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showContextMenu($event)}}},[_c('div',{staticClass:\"entity\"},[_vm._v(_vm._s(_vm.entity))]),_c('div',{staticClass:\"message\",domProps:{\"innerHTML\":_vm._s(_vm.message)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"messages\" @click.right.stop.prevent=\"showContextMenu\">\n    <div class=\"entity\">{{entity}}</div>\n    <div class=\"message\" v-html=\"message\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    contextMenuItems(vm) {\n      return [\n        {\n          action: () => {\n            vm.$store.dispatch(\"setInputText\",\n              vm.message\n            );\n          },\n          text: \"Resend message\",\n        },\n        {\n          action: () => {\n            let entityName;\n            if (vm.entity.split(\" \").length > 1) {\n              entityName = `@'${vm.entity}'`;\n            } else {\n              entityName = `@${vm.entity}`;\n            }\n            vm.$store.dispatch(\"setInputText\", `${entityName} `);\n          },\n          text: `Reply to ${vm.entity}`,\n        },\n        {\n          action: () => {\n            console.log(\"TODO: pass more than just the name into the message to inspect.\");\n          },\n          text: `Inspect ${vm.entity}`,\n        },\n      ];\n    },\n  },\n  props: [\"entity\", \"message\"],\n};\n</script>\n\n<style>\n.messages {\n  display: flex;\n  flex-shrink: 0;\n  overflow-x: hidden;\n}\n\n.messages:first-child > div {\n  padding-top: 8px;\n}\n\n.messages:hover .entity {\n  color: var(--text);\n  background-color: var(--ui-darker);\n}\n\n.messages:hover .message {\n  background-color: var(--ui-dark);\n}\n\n.entity {\n  flex: 0 0 140px;\n  padding: 3px 10px;\n  color: var(--text-blur);\n  background-color: var(--ui-dark);\n  text-transform: capitalize;\n  white-space: pre-wrap;\n}\n\n@media (max-width: 500px) {\n  .entity {\n    display: none;\n  }\n}\n\n.message {\n  flex: 1 1;\n  padding: 3px 10px;\n  margin: none;\n  color: var(--text);\n  background-color: var(--ui);\n  white-space: pre-wrap;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=d9f2841e&\"\nimport script from \"./Message.vue?vue&type=script&lang=js&\"\nexport * from \"./Message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Message.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"output\">\n    <message v-for=\"(msg, i) in messages\" :entity=\"msg.entity\" :message=\"msg.message\" :key=\"i\"/>\n    <div id=\"messageBg\"><div class=\"entity\"/><div class=\"message\"/></div>\n  </div>\n</template>\n\n<script>\nimport Message from \"./Message\";\n\nexport default {\n  components: {\n    Message,\n  },\n  computed: {\n    messages() {\n      return this.$store.getters.messages;\n    },\n  },\n  methods: {\n    contextMenuItems(vm) {\n      return [\n        {\n          action: () => {\n            console.log(vm.$store);\n          },\n          text: \"Log vuex\",\n        },\n        {\n          action: () => {},\n          text: \"Do Nothing\",\n        },\n      ];\n    },\n  },\n  watch: {\n    messages() {\n      this.$nextTick(() => {\n        document.querySelector(\"#output\").lastChild.scrollIntoView();\n      });\n    },\n  },\n};\n</script>\n\n<style>\n#output {\n  display: flex;\n  flex-flow: column;\n  overflow-y: auto;\n}\n\n#output::-webkit-scrollbar {\n  width: 8px;\n}\n\n#output::-webkit-scrollbar-track {\n  background-color: var(--ui-dark);\n}\n\n#output::-webkit-scrollbar-thumb {\n  background-color: var(--ui-border);\n}\n\n#messageBg {\n  display: flex;\n  flex: 1 1;\n}\n#messageBg div {\n  padding-top: 0px;\n  padding-bottom: 0px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Output.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Output.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Output.vue?vue&type=template&id=b8fb7c80&\"\nimport script from \"./Output.vue?vue&type=script&lang=js&\"\nexport * from \"./Output.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Output.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"overview\"},on:{\"contextmenu\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showContextMenu($event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Creature } from \"./creatures\";\nimport { Item } from \"../../types\";\nimport { Player } from \"./player\";\nimport Position from \"../world/position\";\n\ninterface IAttributes {\n  armour: number;\n  attackChance: number;\n  attackSpeed: number;\n  damage: number;\n  dodgeChance: number;\n}\n\nexport enum EntityType {\n  Creature,\n  Player,\n}\n\nexport const isPlayer = (entity: Creature | Player): entity is Player =>\n  (<Creature>entity).type === EntityType.Player;\n\nexport enum ActivityState {\n  MOVING = \"moving\",\n  FIGHTING = \"fighting\",\n  DEAD = \"dead\",\n}\n\nexport interface HP {\n  current: number;\n  max: number;\n}\n\n// type EquipmentSlotName =\n//   | \"head\"\n//   | \"neck\"\n//   | \"torso\"\n//   | \"back\"\n//   | \"wrist\"\n//   | \"hand\"\n//   | \"finger\"\n//   | \"waist\"\n//   | \"legs\"\n//   | \"feet\";\n\ninterface EquipmentSlot {\n  equipped: Item | null;\n  // name: EquipmentSlotName;\n}\n\nexport interface HumanoidBody {\n  arms?: Array<{\n    fingers: Array<EquipmentSlot>;\n    hand: EquipmentSlot;\n    wrist: EquipmentSlot;\n  }>;\n  back: EquipmentSlot;\n  feet: EquipmentSlot;\n  heads: Array<{\n    head: EquipmentSlot;\n    neck: EquipmentSlot;\n  }>;\n  legs: EquipmentSlot;\n  torso: EquipmentSlot;\n  waist: EquipmentSlot;\n}\n\nexport class Entity {\n  attributes: IAttributes;\n  cooldown: number;\n  currentActivityState: ActivityState;\n  equipmentSlots?: HumanoidBody;\n  hp: HP;\n  items: Item[];\n  level: number;\n  position: Position;\n  symbol: string;\n  target?: Creature | Player;\n  type: EntityType;\n\n  constructor({\n    attributes,\n    cooldown,\n    currentActivityState,\n    equipmentSlots,\n    hp,\n    items,\n    level,\n    position,\n    symbol,\n    target,\n    type,\n  }: {\n    attributes: IAttributes;\n    cooldown: number;\n    currentActivityState: ActivityState;\n    equipmentSlots?: HumanoidBody;\n    hp: HP;\n    items: Item[];\n    level: number;\n    position: Position;\n    symbol: string;\n    target?: Creature | Player;\n    type: EntityType;\n  }) {\n    this.attributes = attributes;\n    this.cooldown = cooldown;\n    this.currentActivityState = currentActivityState;\n    this.equipmentSlots = equipmentSlots;\n    this.hp = hp;\n    this.items = items;\n    this.level = level;\n    this.position = position;\n    this.symbol = symbol;\n    this.target = target;\n    this.type = type;\n  }\n\n  isDead(): boolean {\n    return this.currentActivityState === ActivityState.DEAD || this.hp.current <= 0;\n  }\n\n  resetActivityState() {\n    this.target = undefined;\n    this.currentActivityState = ActivityState.MOVING;\n  }\n}\n","// export type Position = [number, number];\n\nexport default class Position {\n  x: number;\n  y: number;\n\n  constructor(x: number, y: number) {\n    this.x = x;\n    this.y = y;\n  }\n\n  get key(): string {\n    return [this.x, this.y].join();\n  }\n}\n\nexport const getRandomPosInChunk = (chunkSize: number, left: number, top: number): Position =>\n  new Position(\n    Math.floor(Math.random() * chunkSize) + left * chunkSize,\n    Math.floor(Math.random() * chunkSize) + top * chunkSize\n  );\n\nexport type Vector = [number, number];\n\n// Converts a vector into a string separated by a comma to be used as a key.\n// If using a number[] only the first two values are used, intended only to be\n// used where Vector isn't imported for casting but the array is of length 1.\nexport const VTS = (x: number, y: number): string => `${x},${y}`;\n","export function RNG(min?: number, max?: number): number {\n  if (min !== undefined && max !== undefined) {\n    return Math.random() * (max - min) + min;\n  } else if (min !== undefined) {\n    return Math.random() * min;\n  } else {\n    return Math.random();\n  }\n}\n","// This takes an attack chance and a dodge chance, and assumes they are 0-1 inclusive.\nexport const attackSuccessChance = (ac: number, dc: number): number => ac - (ac * dc) / 4;\n\n// Returns maxmimum possible damage given damage and armour args.\n// The maximum is limited between 1 and the damage arg inclusive.\nexport const maxDamage = (dmg: number, arm: number): number => {\n  const value = 0.8 * (dmg ** 4 / arm) ** 0.3;\n  return Math.max(1, Math.min(dmg, value));\n};\n","import { dispatchAction } from \"../../vuex/actions\";\nimport Position from \"../world/position\";\nimport { RNG } from \"../utils/RNG\";\nimport store from \"../../vuex/store\";\nimport { ActivityState, Entity, EntityType, HumanoidBody, isPlayer } from \"./entity\";\nimport { attackSuccessChance, maxDamage } from \"../utils/fighting\";\nimport { Creature, CreatureName } from \"./creatures\";\nimport { Direction, getRandomDirection } from \"../utils/direction\";\n\n// export interface Player {\n//   creaturesSlain: { [key in CreatureName]?: number };\n//   inventory?: any;\n//   slots?: any;\n// }\n\nexport class Player extends Entity {\n  creaturesSlain: { [key in CreatureName]?: number };\n  name: string;\n  xp: number;\n\n  constructor(name: string = \"\", level: number = 1) {\n    super({\n      attributes: {\n        armour: 0,\n        attackChance: 0.45,\n        attackSpeed: 30,\n        damage: 10,\n        dodgeChance: 0.15,\n      },\n      cooldown: 35,\n      currentActivityState: ActivityState.MOVING,\n      equipmentSlots: {\n        arms: [\n          {\n            fingers: [\n              { equipped: null },\n              { equipped: null },\n              { equipped: null },\n              { equipped: null },\n            ],\n            hand: {\n              equipped: null,\n            },\n            wrist: {\n              equipped: null,\n            },\n          },\n          {\n            fingers: [\n              { equipped: null },\n              { equipped: null },\n              { equipped: null },\n              { equipped: null },\n            ],\n            hand: {\n              equipped: null,\n            },\n            wrist: {\n              equipped: null,\n            },\n          },\n        ],\n        back: {\n          equipped: null,\n        },\n        feet: {\n          equipped: null,\n        },\n        heads: [\n          {\n            head: { equipped: null },\n            neck: { equipped: null },\n          },\n        ],\n        legs: { equipped: null },\n        torso: { equipped: null },\n        waist: { equipped: null },\n      },\n      hp: {\n        current: 100,\n        max: 100,\n      },\n      items: [],\n      level: level,\n      position: new Position(0, 0),\n      symbol: \"|\",\n      type: EntityType.Player,\n    });\n\n    this.name = name;\n    this.creaturesSlain = {};\n    this.xp = 0;\n  }\n\n  get xpToNextLevel(): number {\n    return Math.round(50 * this.level ** 1.3);\n  }\n\n  get isFullHealth(): boolean {\n    return this.hp.current >= this.hp.max;\n  }\n\n  addXP(xp: number) {\n    while (this.xpToNextLevel < xp) {\n      xp -= this.xpToNextLevel;\n      this.levelUp();\n    }\n    this.xp = xp;\n  }\n\n  attack() {\n    if (this.target === undefined || this.target.isDead() || isPlayer(this.target)) {\n      dispatchAction.AddMessage({\n        entity: \"Game\",\n        message: \"There is nothing to attack!\",\n      });\n      this.target = undefined;\n      this.currentActivityState = ActivityState.MOVING;\n      return;\n    }\n\n    const successChance = attackSuccessChance(\n      this.attributes.attackChance,\n      this.target.attributes.dodgeChance\n    );\n\n    if (successChance < RNG()) {\n      dispatchAction.AddMessage({\n        entity: this.name,\n        message: `You missed the ${this.target.species.name}.`,\n      });\n      return;\n    }\n\n    // maxDamage gives value between 1 and this.attributes.damage.\n    // We use Math.ceil because we want 1 to be the minimum damage value.\n    const maxDmg = maxDamage(this.attributes.damage, this.target.attributes.armour);\n    const damage = Math.ceil(RNG(maxDmg));\n\n    dispatchAction.AddMessage({\n      entity: this.name,\n      message: `You attack the ${this.target.species.name} for ${damage}HP.`,\n    });\n\n    this.target.receiveDamage(damage);\n\n    if (this.target.isDead()) {\n      this.addXP(Math.round((this.target.hp.max * this.target.level) / 1.5));\n      this.currentActivityState = ActivityState.MOVING;\n    }\n  }\n\n  heal(amount: number): number {\n    const healed = Math.min(this.hp.max - this.hp.current, amount);\n    this.hp.current += healed;\n\n    return healed;\n  }\n\n  levelUp() {\n    this.level++;\n    this.attributes.damage += Math.round(this.level ** 0.5);\n    this.attributes.armour += Math.round(this.level ** 0.5);\n    this.hp.max = 10 * Math.floor((10 * this.level ** 1.3 + 90) / 10);\n\n    dispatchAction.AddMessage({\n      entity: \"Level up\",\n      message: `Congratulations! You are now level ${this.level}.`,\n    });\n  }\n\n  printHPReport() {\n    const totalBarLength = 40;\n    const hpPercent = Math.round((this.hp.current / this.hp.max) * 100);\n    const currentHPLength = Math.round((totalBarLength / 100) * hpPercent);\n    const hpReportString = `[${this.symbol.repeat(currentHPLength).padEnd(totalBarLength)}] (${\n      this.hp.current\n    }HP)`;\n    dispatchAction.AddMessage({\n      entity: this.name,\n      message: hpReportString,\n    });\n  }\n\n  receiveDamage(damage: number) {\n    this.hp.current = Math.max(0, this.hp.current - damage);\n    if (this.hp.current === 0) {\n      dispatchAction.AddMessage({\n        entity: \"\",\n        message: \"Game over.\", // Do creature report here\n      });\n      this.currentActivityState = ActivityState.DEAD;\n    } else {\n      this.printHPReport();\n    }\n  }\n\n  run(dir?: Direction) {\n    if (!this.target || this.target instanceof Player) {\n      dispatchAction.AddMessage({\n        entity: \"\",\n        message: \"You can't run away when you aren't being attacked.\",\n      });\n      return;\n    }\n    if (RNG() < 0.5) {\n      this.target.target = undefined;\n      this.target.currentActivityState = ActivityState.MOVING;\n\n      this.target = undefined;\n      this.currentActivityState = ActivityState.MOVING;\n\n      if (dir) {\n        dispatchAction.MovePlayer(dir);\n      } else {\n        dispatchAction.MovePlayer(getRandomDirection());\n      }\n\n      dispatchAction.AddMessage({\n        entity: \"\",\n        message: \"You manage to run away.\",\n      });\n    } else {\n      dispatchAction.AddMessage({\n        entity: \"Can't escape!\",\n        message: `You attempt to run but the ${\n          this.target.species.name\n        } prevents you from fleeing.`,\n      });\n    }\n  }\n\n  targetCreature(creature: Creature) {\n    this.target = creature;\n    this.currentActivityState = ActivityState.FIGHTING;\n\n    dispatchAction.AddMessage({\n      entity: \"\",\n      message: creature.getSpawnMessage(),\n    });\n\n    this.attack();\n\n    creature.target = this;\n    creature.currentActivityState = ActivityState.FIGHTING;\n    creature.cooldown = 20;\n  }\n\n  update() {\n    if (this.cooldown > 0) {\n      this.cooldown--;\n      return;\n    }\n\n    this.cooldown = this.attributes.attackSpeed;\n\n    switch (this.currentActivityState) {\n      case ActivityState.FIGHTING:\n        this.attack();\n        break;\n    }\n  }\n}\n","// import { actions } from \"./actions\";\nimport { ActivityState } from \"../game/entities/entity\";\nimport { Creature } from \"../game/entities/creatures\";\nimport { Player } from \"../game/entities/player\";\nimport Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport World from \"../game/world/World\";\nimport { Direction, getDirStringFromVector, parseDir } from \"../game/utils/direction\";\nimport { Item, Message, SurroundingsItem } from \"../types\";\nimport Position, { Vector, VTS } from \"../game/world/position\";\n\nVue.use(Vuex);\n\ninterface Surroundings {\n  creatures: {\n    creature: Creature;\n    dir: string;\n    dist: number;\n  }[];\n  items: {\n    [name: string]: SurroundingsItem;\n  };\n}\n\nexport interface InitialState {\n  commandMode: string;\n  creatures: {\n    [location: string]: Creature[];\n  };\n  displayOrigin: [number, number];\n  highlit: Record<string, {} | { colour: string; symbol: string }>;\n  inputText: string;\n  messages: Message[];\n  player: Player;\n  splash: boolean;\n  world?: World;\n}\n\nconst InitialState: InitialState = {\n  commandMode: \"text\",\n  creatures: {},\n  displayOrigin: [0, 0],\n  highlit: {},\n  inputText: \"\",\n  messages: [],\n  player: new Player(),\n  splash: true,\n};\n\nconst store = new Vuex.Store({\n  actions: {\n    addCreature({ commit }, creature: Creature) {\n      commit(\"ADD_CREATURE\", creature);\n    },\n    addMessage({ commit }, data: { entity: string; message: string }) {\n      commit(\"ADD_MESSAGE\", data);\n    },\n    addMessageAtPosition({ commit, state }, { entity, message, position }) {\n      // Only send messages when player is there\n      if (state.player.position.x === position.x && state.player.position.y === position.y) {\n        commit(\"ADD_MESSAGE\", { entity, message });\n      }\n    },\n    clearHighlight({ commit }) {\n      commit(\"CLEAR_HIGHLIGHTED\");\n    },\n    dropItems({ commit }, data) {\n      commit(\"DROP_ITEMS\", data);\n    },\n    enterCommand({ commit, state }, text) {\n      commit(\"ADD_MESSAGE\", {\n        entity: state.player.name,\n        message: text,\n      });\n      commit(\"SET_INPUT_TEXT\", \"\");\n    },\n    highlight({ commit }, tiles) {\n      commit(\"HIGHLIGHT_TILES\", tiles);\n    },\n    moveCreature({ commit }, { creature, newPos }: { creature: Creature; newPos: Vector }) {\n      commit(\"MOVE_CREATURE\", { creature, newPos });\n    },\n    movePlayer({ state, commit }, dir: Direction) {\n      if (state.player.currentActivityState === ActivityState.MOVING) {\n        commit(\"MOVE_PLAYER\", parseDir(dir));\n      } else {\n        commit(\"ADD_MESSAGE\", {\n          entity: \"Can't esacpe!\",\n          message: \"You can't move while you're being attacked. Use \\\"r\\\" to attempt to run away.\",\n        });\n      }\n    },\n    parseCommand(_, command) {\n      console.log(\"Parsing\", command);\n    },\n    // receiveInput({ commit }, input) {\n    // gsMan.receiveInput(input);\n    // },\n    setCommandMode({ commit }, mode) {\n      commit(\"SET_COMMAND_MODE\", mode);\n    },\n    setDisplayOrigin({ commit }, vector) {\n      commit(\"SET_DISPLAY_ORIGIN\", vector);\n    },\n    setInputText({ commit }, text) {\n      commit(\"SET_INPUT_TEXT\", text);\n    },\n    setPlayer({ commit }, player) {\n      commit(\"SET_PLAYER\", player);\n    },\n    setPlayerName({ commit }, name) {\n      commit(\"SET_PLAYER_NAME\", name);\n    },\n    setSplash({ commit }, val) {\n      commit(\"SET_SPLASH\", val);\n    },\n    setWorld({ commit }, world) {\n      commit(\"SET_WORLD\", world);\n    },\n    // startGame({ commit }) {\n    // commit(\"START_GAME\");\n    // },\n  },\n\n  getters: {\n    creatures: state => state.creatures,\n    creaturesAt: state => (x: number, y: number): Array<Creature> => {\n      return state.creatures[VTS(x, y)] || [];\n    },\n    creaturesWithinRadius: state => (\n      pos: Position,\n      radius: number = 10\n    ): Record<string, Creature[]> => {\n      if (!pos) {\n        console.warn(\"No player position in creatureWithinRadius, returning all creatures\");\n        return state.creatures;\n      }\n      const creatures: Record<string, Creature[]> = {};\n      for (let y = pos.y - radius; y < pos.y + radius; y++) {\n        for (let x = pos.x - radius; x < pos.x + radius; x++) {\n          if (state.creatures[VTS(x, y)]) {\n            creatures[VTS(x, y)] = state.creatures[VTS(x, y)];\n          }\n        }\n      }\n      return creatures;\n    },\n    displayOrigin: state => state.displayOrigin,\n    highlit: state => state.highlit || {},\n    inputText: state => state.inputText,\n    instantMode: state => state.commandMode === \"instant\",\n    itemsOnTile: state => (x: number, y: number) => {\n      const tile = state.world && state.world.getTile(x, y);\n      return tile ? tile.items : [];\n    },\n    messages: state => state.messages,\n    player: state => state.player,\n    playerLevel: state => state.player.level,\n    playerName: state => state.player.name,\n    playerPos: state => state.player.position || new Position(0, 0),\n    splash: state => state.splash,\n    surroundings: state => (radius: number = 2) => {\n      let surr: Surroundings = {\n        creatures: [],\n        items: {},\n      };\n\n      for (let y = -radius; y <= radius; y++) {\n        for (let x = -radius; x <= radius; x++) {\n          const pos: Vector = [state.player.position.x + x, state.player.position.y + y];\n\n          const creatures = state.creatures[VTS(...pos)];\n\n          if (creatures && creatures.length > 0) {\n            const dir = getDirStringFromVector(x, y);\n            const dist = Math.abs(x) + Math.abs(y);\n            const creaturesHere = creatures\n              .filter((creature: Creature) => !creature.isDead())\n              .map((creature: Creature) => ({\n                creature,\n                dir,\n                dist,\n              }));\n            surr.creatures = surr.creatures.concat(creaturesHere);\n          }\n\n          const tile = state.world!.getTile(...pos);\n          if (tile.items.length) {\n            tile.items.forEach((item: Item) => {\n              if (surr.items[item.name]) {\n                surr.items[item.name].count++;\n                surr.items[item.name].locations[VTS(...pos)] = {};\n                if (surr.items[item.name].expanded[VTS(x, y)]) {\n                  surr.items[item.name].expanded[VTS(x, y)].count++;\n                  surr.items[item.name].expanded[VTS(x, y)].totalValue += item.val;\n                } else {\n                  surr.items[item.name].expanded[VTS(x, y)] = {\n                    count: 1,\n                    dir: getDirStringFromVector(x, y),\n                    loc: {\n                      [VTS(...pos)]: {},\n                    },\n                    name: item.name,\n                    plural: item.plural,\n                    totalValue: item.val,\n                  };\n                }\n              } else {\n                surr.items[item.name] = {\n                  count: 1,\n                  expanded: {\n                    [VTS(x, y)]: {\n                      count: 1,\n                      dir: getDirStringFromVector(x, y),\n                      loc: {\n                        [VTS(...pos)]: {},\n                      },\n                      name: item.name,\n                      plural: item.plural,\n                      totalValue: item.val,\n                    },\n                  },\n                  locations: {\n                    [VTS(...pos)]: {},\n                  },\n                  name: item.name,\n                  plural: item.plural,\n                };\n              }\n            });\n          }\n        }\n      }\n\n      surr.creatures.sort((a, b) => {\n        if (a.dist !== b.dist) {\n          return a.dist - b.dist; // Sort by distance\n        } else if (a.creature.level !== b.creature.level) {\n          return b.creature.level - a.creature.level; // Then descending order of level\n        } else {\n          return b.creature.hp.current - a.creature.hp.current; // Then amount of hp\n        }\n      });\n\n      return surr;\n    },\n    world: state => state.world,\n    worldExists: state => !!state.world,\n  },\n\n  mutations: {\n    ADD_CREATURE(state, creature: Creature) {\n      if (state.creatures[VTS(creature.position.x, creature.position.y)]) {\n        const creatures = state.creatures[VTS(creature.position.x, creature.position.y)]\n          .concat([creature])\n          .sort((a, b) => b.level - a.level);\n        state.creatures[VTS(creature.position.x, creature.position.y)] = creatures;\n      } else {\n        Vue.set(state.creatures, creature.position.key, [creature]);\n      }\n    },\n    ADD_MESSAGE(state, { entity, message }: Message) {\n      state.messages.push({\n        entity: entity,\n        message: message,\n      });\n    },\n    CLEAR_HIGHLIGHTED(state) {\n      state.highlit = {};\n    },\n    DROP_ITEMS(state, { items, pos }: { items: Item[]; pos: Position }) {\n      const tile = state.world!.getTile(pos.x, pos.y);\n      tile.items.push(...items);\n    },\n    HIGHLIGHT_TILES(state, tiles) {\n      state.highlit = tiles;\n    },\n    MOVE_CREATURE(state, { creature, newPos }: { creature: Creature; newPos: Vector }) {\n      if (state.creatures[VTS(...newPos)]) {\n        state.creatures[VTS(...newPos)].push(\n          ...state.creatures[creature.position.key].splice(\n            state.creatures[creature.position.key].indexOf(creature),\n            1\n          )\n        );\n        state.creatures[VTS(...newPos)].sort((a, b) => b.level - a.level);\n      } else {\n        Vue.set(\n          state.creatures,\n          VTS(...newPos),\n          state.creatures[creature.position.key].splice(\n            state.creatures[creature.position.key].indexOf(creature),\n            1\n          )\n        );\n      }\n    },\n    MOVE_PLAYER(state, [x, y]) {\n      state.player.position.x += x;\n      state.player.position.y += y;\n    },\n    SET_COMMAND_MODE(state, mode) {\n      state.commandMode = mode;\n    },\n    SET_DISPLAY_ORIGIN(state, vector) {\n      state.displayOrigin = vector;\n    },\n    SET_INPUT_TEXT(state, text) {\n      state.inputText = text;\n    },\n    SET_PLAYER(state, player) {\n      state.player = player;\n    },\n    SET_PLAYER_NAME(state, name) {\n      state.player.name = name;\n    },\n    SET_SPLASH(state, val) {\n      state.splash = val;\n    },\n    SET_WORLD(state, world) {\n      Vue.set(state, \"world\", world);\n    },\n    START_GAME() {\n      console.log(\"Probably not going to work here buddy\");\n    },\n  },\n\n  state: InitialState,\n});\n\nexport default store;\n","import { Creature } from \"../game/entities/creatures\";\nimport { Item } from \"../types\";\nimport { Player } from \"../game/entities/player\";\nimport World from \"../game/world/World\";\nimport { ActionContext, ActionTree, Store } from \"vuex\";\nimport { Direction, parseDir } from \"../game/utils/direction\";\nimport Position, { Vector } from \"../game/world/position\";\nimport store, { InitialState } from \"./store\";\n\nfunction actionGen<P>(name: string) {\n  return (payload?: P) => store.dispatch(name, payload);\n}\n\n// type dispatcher<I, A extends keyof I> = (payload?: I[A]) => void;\n\n// To use, import dispatchAction then e.g. dispatchAction.SetPlayerName(\"new name\"))\nexport const dispatchAction = {\n  AddCreature: actionGen<Creature>(\"addCreature\"),\n  AddMessage: actionGen<{ entity: string; message: string }>(\"addMessage\"),\n  AddMessageAtPosition: actionGen<{ entity: string; message: string; position: Position }>(\n    \"addMessageAtPosition\"\n  ),\n  ClearHighlight: actionGen<null>(\"clearHighlight\"),\n  DropItems: actionGen<{ items: Item[]; pos: Position }>(\"dropItems\"),\n  EnterCommand: actionGen<string>(\"enterCommand\"),\n  Highlight: actionGen<Record<string, {} | { colour: string; symbol: string }>>(\"highlight\"),\n  MoveCreature: actionGen<{ creature: Creature; newPos: Vector }>(\"moveCreature\"),\n  MovePlayer: actionGen<Direction>(\"movePlayer\"),\n  ParseCommand: actionGen<string>(\"parseCommand\"),\n  SetCommandMode: actionGen<string>(\"setCommandMode\"),\n  SetDisplayOrigin: actionGen<[number, number]>(\"setDisplayOrigin\"),\n  SetInputText: actionGen<string>(\"setInputText\"),\n  SetPlayer: actionGen<Player>(\"setPlayer\"),\n  SetPlayerName: actionGen<string>(\"setPlayerName\"),\n  SetSplash: actionGen<boolean>(\"setSplash\"),\n  SetWorld: actionGen<World>(\"setWorld\"),\n};\n\n// type ActionKey = keyof IActions;\n\n// type disp = {\n//   [name: ActionKey]: (payload?: IActions[typeof name]) => void;\n// }\n\n// type VuexAction<S, R, P> = (context: ActionContext<S, R>, payload: P) => void;\ntype ActionHandlerWithPayload<S, R, P> = (\n  this: Store<R>,\n  intjectee: ActionContext<S, R>,\n  payload: P\n) => any;\n\ninterface IActions extends ActionTree<InitialState, InitialState> {\n  addCreature: ActionHandlerWithPayload<InitialState, InitialState, Creature>;\n  addMessage: ActionHandlerWithPayload<\n    InitialState,\n    InitialState,\n    { entity: string; message: string }\n  >;\n  addMessageAtPosition: ActionHandlerWithPayload<\n    InitialState,\n    InitialState,\n    { entity: string; message: string; position: Position }\n  >;\n  clearHighlight: ActionHandlerWithPayload<InitialState, InitialState, null>;\n  dropItems: ActionHandlerWithPayload<InitialState, InitialState, { items: Item[]; pos: Position }>;\n  enterCommand: ActionHandlerWithPayload<InitialState, InitialState, string>;\n  highlight: ActionHandlerWithPayload<\n    InitialState,\n    InitialState,\n    Record<string, {} | { colour: string; symbol: string }>\n  >;\n  moveCreature: ActionHandlerWithPayload<\n    InitialState,\n    InitialState,\n    { creature: Creature; newPos: Position }\n  >;\n  movePlayer: ActionHandlerWithPayload<InitialState, InitialState, Direction>;\n  parseCommand: ActionHandlerWithPayload<InitialState, InitialState, string>;\n  setCommandMode: ActionHandlerWithPayload<InitialState, InitialState, string>;\n  setDisplayOrigin: ActionHandlerWithPayload<InitialState, InitialState, [number, number]>;\n  setInputText: ActionHandlerWithPayload<InitialState, InitialState, string>;\n  setPlayer: ActionHandlerWithPayload<InitialState, InitialState, Player>;\n  setPlayerName: ActionHandlerWithPayload<InitialState, InitialState, string>;\n  setSplash: ActionHandlerWithPayload<InitialState, InitialState, boolean>;\n  setWorld: ActionHandlerWithPayload<InitialState, InitialState, World>;\n}\n\nexport const actions: IActions = {\n  addCreature: ({ commit }, creature) => {\n    commit(\"ADD_CREATURE\", creature);\n  },\n  addMessage: ({ commit }, data) => {\n    commit(\"ADD_MESSAGE\", data);\n  },\n  addMessageAtPosition({ commit, state }, { entity, message, position }) {\n    // Only send messages when player is there\n    if (state.player.position.x === position.x && state.player.position.y === position.y) {\n      commit(\"ADD_MESSAGE\", { entity, message });\n    }\n  },\n  clearHighlight({ commit }) {\n    commit(\"CLEAR_HIGHLIGHTED\");\n  },\n  dropItems({ commit }, data) {\n    commit(\"DROP_ITEMS\", data);\n  },\n  enterCommand({ commit, state }, text) {\n    commit(\"ADD_MESSAGE\", {\n      entity: state.player.name,\n      message: text,\n    });\n    commit(\"SET_INPUT_TEXT\", \"\");\n  },\n  highlight({ commit }, tiles) {\n    commit(\"HIGHLIGHT_TILES\", tiles);\n  },\n  moveCreature({ commit }, { creature, newPos }: { creature: Creature; newPos: Position }) {\n    commit(\"MOVE_CREATURE\", { creature, newPos });\n  },\n  movePlayer({ commit }, dir: Direction) {\n    commit(\"MOVE_PLAYER\", parseDir(dir));\n  },\n  parseCommand(_, command) {\n    console.log(\"Parsing\", command);\n  },\n  // receiveInput({ commit }, input) {\n  // gsMan.receiveInput(input);\n  // },\n  setCommandMode({ commit }, mode) {\n    commit(\"SET_COMMAND_MODE\", mode);\n  },\n  setDisplayOrigin({ commit }, vector) {\n    commit(\"SET_DISPLAY_ORIGIN\", vector);\n  },\n  setInputText({ commit }, text) {\n    commit(\"SET_INPUT_TEXT\", text);\n  },\n  setPlayer({ commit }, player) {\n    commit(\"SET_PLAYER\", player);\n  },\n  setPlayerName({ commit }, name) {\n    commit(\"SET_PLAYER_NAME\", name);\n  },\n  setSplash({ commit }, val) {\n    commit(\"SET_SPLASH\", val);\n  },\n  setWorld({ commit }, world) {\n    commit(\"SET_WORLD\", world);\n  },\n};\n","import store from \"../../vuex/store\";\n\nexport function levelColour(level: number, brightness: number = 40): string {\n  const diff: number = level - store.getters.player.level;\n  let colour: string;\n  if (diff > 10) {\n    colour = `hsl(0, 100%, ${brightness}%)`;\n  } else if (diff < -10) {\n    colour = `hsl(120, 100%, ${brightness}%)`;\n  } else {\n    // converts numbers from 10 to -10 into a val from 120 to 0\n    colour = `hsl(${120 - (diff + 10) * 6}, 100%, ${brightness}%)`;\n  }\n  return colour;\n}\n","import * as ROT from \"rot-js\";\nimport { Creature } from \"../entities/creatures\";\nimport { dispatchAction } from \"../../vuex/actions\";\nimport { levelColour } from \"../utils/colours\";\nimport { Player } from \"../entities/player\";\nimport store from \"../../vuex/store\";\nimport Tile from \"../world/Tile\";\nimport World from \"../world/World\";\n\nexport interface Display extends ROT.Display {\n  drawWorld: () => void;\n}\n\nexport const display = new ROT.Display({\n  bg: \"#1e1e1e\",\n  fg: \"#daddd8\",\n  // bg: \"#9e9e9e\", // For debugging\n  forceSquareRatio: true,\n}) as Display;\n\ndisplay.drawWorld = function() {\n  const world: World = store.getters.world;\n  const player: Player = store.getters.player;\n\n  this.clear();\n  const curOpts = this.getOptions();\n  let top = Math.ceil(player.position.y - curOpts.height / 2);\n  let bot = Math.ceil(player.position.y + curOpts.height / 2);\n  let left = Math.ceil(player.position.x - curOpts.width / 2);\n  let right = Math.ceil(player.position.x + curOpts.width / 2);\n  dispatchAction.SetDisplayOrigin([left, top]);\n\n  for (let i = 0, y = top; y < bot; y++) {\n    for (let j = 0, x = left; x < right; x++) {\n      let tile: Tile = world.getTile(x, y);\n      let hl = store.getters.highlit[[x, y].join()];\n      let symbol = tile.display;\n      let fg = tile.foreground;\n      let bg = \"#1e1e1e\";\n      const creatures: Creature[] = store.getters.creaturesAt(x, y);\n      if (creatures) {\n        creatures.sort((a: Creature, b: Creature) => {\n          if (a.isDead() && b.isDead()) {\n            return 0;\n          } else if (a.isDead()) {\n            return 1;\n          } else if (b.isDead()) {\n            return -1;\n          } else {\n            return b.hp.current - a.hp.current;\n          }\n        });\n      }\n\n      if (hl) {\n        bg = \"#df9\";\n      } else if (tile.items.length > 0) {\n        bg = `hsla(0, 0%, 100%, ${Math.min(tile.items.length / 12, 0.8)})`;\n      }\n\n      if (x === player.position.x && y === player.position.y) {\n        symbol = \"\";\n        // symbol = \"\";\n        // symbol = \"\";\n        if (hl || tile.items.length > 8) {\n          fg = \"#000\";\n        } else {\n          fg = \"#fff\";\n        }\n      } else if (creatures && creatures.length) {\n        if (hl && hl.symbol && hl.colour) {\n          symbol = hl.symbol;\n          fg = hl.colour;\n        } else {\n          symbol = creatures[0].symbol;\n          fg = creatures[0].isDead() ? \"#222\" : levelColour(creatures[0].level);\n        }\n      }\n\n      this.draw(j, i, symbol, fg, bg);\n      j++;\n    }\n    i++;\n  }\n};\n","\n\n\n\n\n\nimport _ from \"lodash\";\nimport { Creature } from \"../game/entities/creatures\";\nimport { display } from \"../game/overview/Display\";\nimport { Item } from \"../types/item\";\nimport store from \"../vuex/store\";\nimport Vue from \"vue\";\n\nexport default Vue.extend({\n  methods: {\n    contextMenuItems(vm: HTMLElement, items: Item[], event: any) {\n      const pos = { x: event.x, y: event.y };\n      const canvas = document.querySelector(\"#overview > canvas\") as HTMLCanvasElement;\n      if (!canvas) return;\n      const dOpts = display.getOptions();\n      const displayX = Math.floor((pos.x - canvas.offsetLeft) * dOpts.width / canvas.offsetWidth);\n      const displayY = Math.floor((pos.y - canvas.offsetTop) * dOpts.height / canvas.offsetHeight);\n      const [displayOriginX, displayOriginY] = this.$store.getters.displayOrigin;\n      console.log(displayOriginX, displayOriginY);\n\n      const creaturesOnTile = this.$store.getters.creaturesAt(\n        displayX + displayOriginX,\n        displayY + displayOriginY,\n      ).map((creature: Creature) => {\n        return {\n          action: () => {\n            if (creature.isDead()) {\n              this.$store.dispatch(\"addMessage\", {\n                entity: `Examine ${creature.species.name}:`,\n                message: `The ${creature.species.name} is dead.`,\n              });\n            } else {\n              const itemDrops = creature.getItemsPrettyOutput();\n              this.$store.dispatch(\"addMessage\", {\n                entity: `Examine ${creature.species.name}:`,\n                message: `The ${creature.species.name} is level ${creature.level} and has ` +\n                  `${creature.hp.current}HP. It will drop ${itemDrops || \"nothing\"}.`,\n              });\n              this.$store.dispatch(\"addMessage\", {\n                entity: \"\",\n                message: creature.printHPReport(true),\n              });\n            }\n          },\n          text: `Examine ${creature.isDead() ? \"dead\" : \"\"} ${creature.species.name}`,\n        };\n      });\n\n      interface ExamineItem {\n        action: () => void;\n        count: number;\n        name: string;\n        plural: string;\n        text: string;\n        val: number;\n      }\n\n      const itemsOnTile = this.$store.getters.itemsOnTile(\n        displayX + displayOriginX,\n        displayY + displayOriginY,\n      ).reduce((arr: ExamineItem[], item: Item) => {\n        const val = arr.find(el => el.name === item.name);\n        if (val) {\n          val.count++;\n          val.val += item.val;\n          val.text = `${val.count} ${val.count === 1 ? val.name : val.plural} (${val.val})`;\n          val.action = () => {\n            store.dispatch(\"addMessage\", {\n              entity: \"\",\n              message: `You examine the ${val.plural}. It is worth ${val.val} gold.`,\n            });\n          };\n        } else {\n          let newItemEntry = {\n            action: () => {\n              store.dispatch(\"addMessage\", {\n                entity: \"\",\n                message: `You examine the ${item.name}. It is worth ${item.val} gold.`,\n              });\n            },\n            count: 1,\n            name: item.name,\n            plural: item.plural,\n            text: `1 ${item.name} (${item.val})`,\n            val: item.val,\n          };\n          arr.push(newItemEntry);\n        }\n        return arr;\n      }, []);\n\n      return [...creaturesOnTile, ...itemsOnTile];\n    },\n    resizeOverview() {\n      if (!this.$store.getters.splash) {\n        let overviewDiv = document.querySelector(\"#overview\") as HTMLDivElement;\n        if (!overviewDiv) return;\n        let [width, height] =\n          display.computeSize(overviewDiv.offsetWidth, overviewDiv.offsetHeight);\n\n        display.setOptions({ height, width });\n        display.drawWorld();\n      }\n    },\n  },\n  mounted() {\n    document.querySelector(\"#overview\")!.appendChild(display.getContainer()!);\n\n    window.addEventListener(\"resize\", _.debounce(this.resizeOverview, 100));\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overview.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overview.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Overview.vue?vue&type=template&id=b9230306&\"\nimport script from \"./Overview.vue?vue&type=script&lang=ts&\"\nexport * from \"./Overview.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Overview.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"player-inventory\"}},[_vm._v(\"\\n  Player position:\\n  \"+_vm._s(_vm.playerPos.x)+\",\"+_vm._s(_vm.playerPos.y)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"player-inventory\">\n    <!-- At some point this will show player inventory, but for now it will show position -->\n    Player position:\n    {{playerPos.x}},{{playerPos.y}}\n  </div>\n</template>\n\n<script>\nexport default {\n  computed: {\n    playerPos() {\n      return this.$store.getters.playerPos;\n    },\n  },\n  data() {\n    return {};\n  },\n};\n</script>\n\n<style>\n#player-inventory {\n  padding: 10px;\n  overflow-y: auto;\n  color: var(--text-blur);\n  background-color: var(--ui-darker);\n  border-color: var(--ui-border);\n  font-family: \"Ubuntu Mono\", monospace;\n  font-size: 0.85em;\n  white-space: pre-wrap;\n}\n\n#player-inventory::-webkit-scrollbar {\n  width: 8px;\n}\n\n#player-inventory::-webkit-scrollbar-track {\n  background-color: var(--ui-darker);\n}\n\n#player-inventory::-webkit-scrollbar-thumb {\n  background-color: var(--ui-border);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayerInventory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayerInventory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlayerInventory.vue?vue&type=template&id=6fc48455&\"\nimport script from \"./PlayerInventory.vue?vue&type=script&lang=js&\"\nexport * from \"./PlayerInventory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PlayerInventory.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"surroundings-output\"}},[(_vm.worldExists)?[_c('div',{staticClass:\"creatures-wrapper\"},[_vm._v(\"\\n      Creatures:\\n      \"),_c('div',{staticClass:\"table-wrapper\"},[_c('table',{staticClass:\"surrounds-categories\"},[_c('tbody',_vm._l((_vm.surroundings.creatures),function(creatureData,index){return _c('tr',{key:(\"creature-\" + index),on:{\"mouseenter\":function($event){return _vm.highlight(creatureData.creature)},\"mouseleave\":function($event){return _vm.highlight()}}},[_c('td',{staticClass:\"symbol\",style:(_vm.getStyle(creatureData.creature.level))},[_vm._v(\"\\n                \"+_vm._s(creatureData.creature.symbol)+\"\\n              \")]),_c('td',{staticClass:\"creature-name\"},[_vm._v(\"\\n                \"+_vm._s(creatureData.creature.isDead() ? \"dead\" : \"\")+\"\\n                \"+_vm._s(creatureData.creature.species.name)+\"\\n              \")]),_c('td',{staticClass:\"creature-level\"},[_vm._v(\"\\n                Level\\n              \")]),_c('td',{style:(_vm.getStyle(creatureData.creature.level))},[_vm._v(\"\\n                \"+_vm._s(creatureData.creature.level)+\"\\n              \")]),_c('td',{staticClass:\"direction\"},[_vm._v(\"\\n                (\"),_c('span',{style:(creatureData.dist ? '' : _vm.getStyle(creatureData.creature.level))},[_vm._v(_vm._s(creatureData.dir))]),_vm._v(\")\\n              \")])])}),0)])])]),_c('div',{staticClass:\"surrounding-items-wrapper\"},[_vm._v(\"\\n      Items:\\n      \"),_c('div',{staticClass:\"table-wrapper\"},[_c('div',{staticClass:\"surrounds-categories\"},_vm._l((_vm.surroundings.items),function(item,i){return _c('div',{key:(\"item-\" + i),staticClass:\"item-list-wrapper\",on:{\"mouseenter\":function($event){return _vm.highlight(null, item.locations)},\"mouseleave\":function($event){return _vm.highlight()},\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.toggleExpanded(item)}}},[_c('div',{staticClass:\"flex-container\"},[_c('span',{staticClass:\"item-count\"},[_vm._v(_vm._s(item.count))]),_c('span',{staticClass:\"item-name\"},[_vm._v(_vm._s(item.count === 1 ? item.name : item.plural))])]),_vm._l((item.expanded),function(expanded,i){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expandedItem === item.name),expression:\"expandedItem === item.name\"}],key:(\"expanded-\" + i),staticClass:\"expanded-items\",on:{\"mouseenter\":function($event){return _vm.highlight(null, expanded.loc)},\"mouseleave\":function($event){return _vm.highlight()}}},[_c('span',{staticClass:\"item-count\"},[_vm._v(_vm._s(expanded.count))]),_c('span',{staticClass:\"expanded-name\"},[_vm._v(\"\\n                \"+_vm._s(expanded.count === 1 ? expanded.name : expanded.plural)+\"\\n              \")]),_c('span',{staticClass:\"item-value\"},[_vm._v(_vm._s(expanded.totalValue))]),_c('span',{staticClass:\"direction\"},[_vm._v(\"(\"+_vm._s(expanded.dir)+\")\")])])})],2)}),0)])])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"surroundings-output\">\n    <template v-if=\"worldExists\">\n      <div class=\"creatures-wrapper\">\n        Creatures:\n        <div class=\"table-wrapper\">\n          <table class=\"surrounds-categories\">\n            <tbody>\n              <tr v-for=\"(creatureData, index) in surroundings.creatures\"\n                  :key=\"`creature-${index}`\"\n                  @mouseenter=\"highlight(creatureData.creature)\"\n                  @mouseleave=\"highlight()\">\n                <td :style=\"getStyle(creatureData.creature.level)\" class=\"symbol\">\n                  {{creatureData.creature.symbol}}\n                </td>\n                <td class=\"creature-name\">\n                  {{creatureData.creature.isDead() ? \"dead\" : \"\"}}\n                  {{creatureData.creature.species.name}}\n                </td>\n                <td class=\"creature-level\">\n                  Level\n                </td>\n                <td :style=\"getStyle(creatureData.creature.level)\">\n                  {{creatureData.creature.level}}\n                </td>\n                <td class=\"direction\">\n                  (<span\n                     :style=\"creatureData.dist ? '' : getStyle(creatureData.creature.level)\"\n                     >{{creatureData.dir}}</span>)\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div class=\"surrounding-items-wrapper\">\n        Items:\n        <div class=\"table-wrapper\">\n          <div class=\"surrounds-categories\">\n            <div v-for=\"(item, i) in surroundings.items\"\n                 :key=\"`item-${i}`\"\n                 @mouseenter=\"highlight(null, item.locations)\"\n                 @mouseleave=\"highlight()\"\n                 @click.left=\"toggleExpanded(item)\"\n                 class=\"item-list-wrapper\">\n              <div class=\"flex-container\">\n                <span class=\"item-count\">{{item.count}}</span>\n                <span class=\"item-name\">{{item.count === 1 ? item.name : item.plural}}</span>\n              </div>\n              <div v-for=\"(expanded, i) in item.expanded\"\n                   :key=\"`expanded-${i}`\"\n                   @mouseenter=\"highlight(null, expanded.loc)\"\n                   @mouseleave=\"highlight()\"\n                   v-show=\"expandedItem === item.name\"\n                   class=\"expanded-items\">\n                <span class=\"item-count\">{{expanded.count}}</span>\n                <span class=\"expanded-name\">\n                  {{expanded.count === 1 ? expanded.name : expanded.plural}}\n                </span>\n                <span class=\"item-value\">{{expanded.totalValue}}</span>\n                <span class=\"direction\">({{expanded.dir}})</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { levelColour } from \"../game/utils/colours\";\n\nexport default {\n  computed: {\n    surroundings() {\n      return this.$store.getters.surroundings();\n    },\n    worldExists() {\n      return this.$store.getters.worldExists;\n    },\n  },\n  data() {\n    return {\n      expandedItem: \"\",\n    };\n  },\n  methods: {\n    getStyle(lvl) {\n      return \"color: \" + levelColour(lvl);\n    },\n    highlight(entity, locations) {\n      if (entity) {\n        let highlit = {\n          [entity.position.key]: {\n            colour: entity.isDead() ? \"#888\" : levelColour(entity.level, 30),\n            symbol: entity.symbol,\n          },\n        };\n        this.$store.dispatch(\"highlight\", highlit);\n      } else if (locations) {\n        this.$store.dispatch(\"highlight\", locations);\n      } else {\n        this.$store.dispatch(\"clearHighlight\");\n      }\n    },\n    toggleExpanded(item) {\n      if (item.name === this.expandedItem) {\n        this.expandedItem = \"\";\n      } else {\n        this.expandedItem = item.name;\n      }\n    },\n  },\n};\n</script>\n\n<style>\n#surroundings-output {\n  color: var(--text-blur);\n  background-color: var(--ui-darker);\n  border-color: var(--ui-border);\n  font-family: \"Ubuntu Mono\", monospace;\n  font-size: 16px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n}\n\n.table-wrapper::-webkit-scrollbar {\n  width: 6px;\n}\n\n.table-wrapper::-webkit-scrollbar-track {\n  background-color: #2b2b2b;\n}\n\n.table-wrapper::-webkit-scrollbar-thumb {\n  background-color: #404040;\n}\n\n.surrounds-categories {\n  table-layout: fixed;\n  padding: 0px;\n  width: 100%;\n  font-size: 14px;\n  cursor: default;\n}\n\n.surrounds-categories tr:hover {\n  background-color: var(--ui-border);\n}\n\n.surrounds-categories td {\n  padding: 3px 4px;\n}\n\n.direction {\n  text-align: right;\n  text-transform: capitalize;\n  width: 85px;\n  margin-left: 10px;\n}\n\n.creatures-wrapper,\n.surrounding-items-wrapper {\n  /* margin: 16px 8px 20px 15px; */\n  margin: 0px 8px 0px 15px;\n  flex: 1 1 0;\n  max-height: 48%;\n}\n\n.table-wrapper {\n  margin: 6px 0px 16px;\n  max-height: 85%;\n  overflow-y: scroll;\n}\n\n.symbol {\n  font-size: 20px;\n  width: 14px;\n}\n\n.creature-name {\n  font-size: 1.1em;\n  text-transform: capitalize;\n  width: 100px;\n}\n\n.creature-level {\n  text-align: right;\n  width: 40px;\n}\n\n.flex-container {\n  display: flex;\n  align-items: center;\n}\n\n.item-list-wrapper {\n  cursor: pointer;\n  padding: 2px 0px;\n}\n\n.item-name {\n  font-size: 1.1em;\n  width: 280px;\n}\n\n.item-count {\n  color: white;\n  flex: 0 0 25px;\n}\n\n.item-value {\n  flex: 0 0 25px;\n  color: yellow;\n}\n\n.expanded-items {\n  align-items: baseline;\n  background-color: #1e1e1e;\n  display: flex;\n  flex-wrap: nowrap;\n  margin: 5px 0px;\n  padding: 2px 0px 2px 10px;\n  width: 95%;\n}\n\n.item-list-wrapper > div:first-of-type {\n  margin-top: 3px;\n}\n\n.expanded-name {\n  margin-right: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Surroundings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Surroundings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Surroundings.vue?vue&type=template&id=28aa138c&\"\nimport script from \"./Surroundings.vue?vue&type=script&lang=js&\"\nexport * from \"./Surroundings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Surroundings.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\" @click=\"hideContextMenu\" @click.right.prevent=\"showContextMenu\">\n    <Output/>\n    <Overview/>\n    <surroundings/>\n    <player-inventory/>\n    <input-bar/>\n    <context-menu/>\n  </div>\n</template>\n\n<script>\nimport ContextMenu from \"./components/ContextMenu\";\nimport InputBar from \"./components/InputBar\";\nimport Output from \"./components/Output\";\nimport Overview from \"./components/Overview\";\nimport PlayerInventory from \"./components/PlayerInventory\";\nimport Surroundings from \"./components/Surroundings\";\n\nexport default {\n  components: {\n    ContextMenu,\n    InputBar,\n    Output,\n    Overview,\n    PlayerInventory,\n    Surroundings,\n  },\n  created() {\n    this.$game.start();\n    window.addEventListener(\"keyup\", this.handleKeyUp);\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  },\n  methods: {\n    contextMenuItems(vm, menuItems) {\n      return [\n        {\n          action: () => {\n            console.log(vm);\n          },\n          text: \"Cancel\",\n        },\n      ];\n    },\n    handleKeyDown(event) {\n      if ((event.key !== \"Enter\" || event.key !== \"Escape\") && this.$store.getters.instantMode) {\n        this.$game.receiveInputKeyDown(event.key);\n      }\n    },\n    handleKeyUp(event) {\n      switch (event.key) {\n        case \"Enter\":\n          if (\n            document.querySelector(\"#input-text\").value === \"\" &&\n            !this.$store.instantMode &&\n            this.$store.worldExists\n          ) {\n            document.querySelector(\"#input-text\").blur();\n          } else {\n            document.querySelector(\"#input-text\").focus();\n          }\n          break;\n        case \"Escape\":\n          document.querySelector(\"#input-text\").blur();\n          break;\n        default:\n          this.$game.receiveInputKeyUp(event.key);\n          break;\n      }\n    },\n  },\n  name: \"App\",\n};\n</script>\n\n<style>\n:root {\n  /* UI colours */\n  --ui: #333231;\n  --ui-darker: #262626;\n  --ui-border: #1e1e1e;\n  --ui-dark: #2b2b2b;\n  /* Text colours */\n  --text: #daddd8;\n  --text-blur: #bababa;\n  --select: #323336;\n}\n\n#app {\n  font-family: \"Oxygen Mono\", monospace;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  display: grid;\n  grid-template-columns: 1fr 350px;\n  grid-template-rows: auto 2fr 1fr 30px;\n  grid-template-areas:\n    \"upper-main upper-right-col\"\n    \"upper-main upper-right-col\"\n    \"lower-main lower-right-col\"\n    \"bottom-bar lower-right-col\";\n  background-color: var(--ui-dark);\n  font-size: 0.95em;\n}\n\n::-moz-selection {\n  background: var(--select);\n}\n::selection {\n  background: var(--select);\n}\n::-o-selection {\n  background: var(--select);\n}\n::-webkit-selection {\n  background: var(--select);\n}\n::-ms-selection {\n  background: var(--select);\n}\n\n@media (max-width: 900px) {\n  #app {\n    grid-template-columns: 1fr;\n    grid-template-rows: 2fr 1fr 30px;\n    grid-template-areas:\n      \"upper-main\"\n      \"lower-main\"\n      \"bottom-bar\";\n  }\n\n  #player-inventory,\n  #surroundings-output {\n    display: none;\n  }\n}\n\n#overview {\n  grid-area: upper-main;\n}\n\n#output {\n  grid-area: lower-main;\n}\n\n#input-bar {\n  grid-area: bottom-bar;\n}\n\n#surroundings-output {\n  grid-area: upper-right-col;\n}\n\n#player-inventory {\n  grid-area: lower-right-col;\n}\n\n#app,\nhtml,\nbody {\n  height: 100%;\n  margin: 0;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3cdfab3c&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { ActivityState } from \"./entities/entity\";\nimport { Creature } from \"./entities/creatures\";\nimport { display } from \"./overview/Display\";\nimport store from \"../vuex/store\";\n\nconst gameloop = {\n  run: () => {\n    const player = store.getters.player;\n    const playerPos = store.getters.playerPos;\n\n    const locationsToCreaturesMap: Record<string, Creature[]> = getCreaturesToUpdate(playerPos);\n    for (const [location, creatures] of Object.entries(locationsToCreaturesMap)) {\n      const idleAggressive: Creature[] = creatures.filter(\n        (creature: Creature) =>\n          creature.aggressive && creature.currentActivityState === ActivityState.MOVING\n      );\n\n      // Attack player\n      if (location === store.getters.playerPos.key) {\n        idleAggressive.forEach(aggressiveCreature => aggressiveCreature.targetPlayer(player));\n      }\n\n      // Fight other creatures\n      if (idleAggressive.length > 1 && creatures.length > 1) {\n        idleAggressive.forEach(aggressiveCreature => aggressiveCreature.targetCreatures(creatures));\n      }\n\n      // Update cooldown\n      creatures.forEach((creature: Creature) => creature.update());\n    }\n\n    player.update();\n    display.drawWorld();\n    window.requestAnimationFrame(gameloop.run);\n  },\n};\n\nfunction getCreaturesToUpdate(playerPos: Position) {\n  const dOpts = display.getOptions();\n  const radius = Math.max(dOpts.width, dOpts.height);\n\n  if (!playerPos) console.error(\"No player position in game loop\");\n\n  return store.getters.creaturesWithinRadius(playerPos, radius);\n}\n\nexport default gameloop;\n","export abstract class GameState {\n  readonly name: string;\n\n  constructor(name: string) {\n    this.name = name;\n  }\n\n  abstract init(): void;\n  abstract receiveInputText(text: string): void;\n  abstract redraw(): void;\n}\n","import Crafting from \"./json/Crafting\";\nimport Food from \"./json/Food\";\nimport Ingredients from \"./json/Ingredients\";\nimport Trophies from \"./json/Trophies\";\n\nlet gameItems = new Map();\n\nclass Item {\n  constructor(itemObject) {\n    for (const key in itemObject) {\n      this[key] = itemObject[key];\n    }\n  }\n}\n\nclass ItemFactory {\n  constructor(itemObject) {\n    for (let key in itemObject) {\n      this[key] = itemObject[key];\n    }\n    this.methods = {};\n  }\n\n  newItem() {\n    const itemParams = {};\n    for (const key in this) {\n      if (Array.isArray(this[key]) && key !== \"value\" && key !== \"val\") {\n        itemParams[key] = Math.floor(getRandomInRange(this[key][0], this[key][1]));\n      } else if (key !== \"value\") {\n        itemParams[key] = this[key];\n      }\n    }\n    itemParams.val = this.value.reduce((sum, fn) => (sum += fn(itemParams)), 0);\n    return new Item(itemParams);\n  }\n\n  addMethod(methodName, fn) {\n    this.methods[methodName] = fn;\n  }\n}\n\nfunction getRandomInRange(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n/**\n * Returns a random int between item minVal and maxVal mapped on minProp and maxProp inclusive\n * item.val and item.prop are arrays of length 2, with form [min, max]\n */\nfunction getItemValue(item, prop, range) {\n  let val = item[prop];\n  let slope = (item.val[1] - item.val[0] + 1) / (range[1] - range[0] + 1);\n  return Math.floor((val - range[0]) * slope + item.val[0]);\n}\n\nCrafting.forEach(i => {\n  let item;\n  if (!gameItems.has(i.name)) {\n    item = new ItemFactory(i);\n    item.value = [itemParams => getRandomInRange(itemParams.val[0], itemParams.val[1])];\n  } else {\n    item = gameItems.get(i.name);\n    for (let key in i) {\n      item[key] = i[key];\n    }\n    item.value.push(itemParams => getRandomInRange(itemParams.val[0], itemParams.val[1]));\n  }\n  if (!item.plural) {\n    item.plural = item.name + \"s\";\n  }\n  item.addMethod(\"craft\", () => console.log(`Crafting with ${this.name}`));\n  gameItems.set(item.name, item);\n});\n\nFood.forEach(i => {\n  let item;\n  if (!gameItems.has(i.name)) {\n    item = new ItemFactory(i);\n    item.value = [itemParams => getItemValue(itemParams, \"heal\", i.heal.slice())];\n  } else {\n    item = gameItems.get(i.name);\n    for (let key in i) {\n      item[key] = i[key];\n    }\n    item.value.push(itemParams => getItemValue(itemParams, \"heal\", i.heal.slice()));\n  }\n  if (!item.plural) item.plural = item.name;\n  item.edible = true;\n  item.addMethod(\"cook\", () => (item.uncooked = false));\n  gameItems.set(item.name, item);\n});\n\n// Gold\nif (!gameItems.has(\"gold\")) {\n  const gold = new ItemFactory({\n    name: \"gold\",\n    plural: \"gold\",\n    value: [() => 1],\n  });\n  gameItems.set(\"gold\", gold);\n}\n\nIngredients.forEach(i => {\n  let item;\n  if (!gameItems.has(i.name)) {\n    item = new ItemFactory(i);\n    item.value = [itemParams => getRandomInRange(itemParams.val[0], itemParams.val[1])];\n  } else {\n    item = gameItems.get(i.name);\n    for (let key in i) {\n      item[key] = i[key];\n    }\n    item.value.push(itemParams => getRandomInRange(itemParams.val[0], itemParams.val[1]));\n  }\n  if (!item.plural) item.plural = item.name;\n  item.addMethod(\"combine\", () => console.log(`Using ingredient ${this.name}`));\n  gameItems.set(item.name, item);\n});\n\nTrophies.forEach(i => {\n  let item;\n  if (!gameItems.has(i.name)) {\n    item = new ItemFactory(i);\n    item.value = [itemParams => getRandomInRange(itemParams.val[0], itemParams.val[1])];\n  } else {\n    item = gameItems.get(i.name);\n    for (let key in i) {\n      item[key] = i[key];\n    }\n    item.value.push(itemParams => getRandomInRange(itemParams.val[0], itemParams.val[1]));\n  }\n  if (!item.plural) {\n    item.plural = item.name + \"s\";\n  }\n  gameItems.set(item.name, item);\n});\n\nexport default gameItems;\n","import * as ROT from \"rot-js\";\nimport { attackSuccessChance } from \"../utils/fighting\";\nimport CreaturesJSON from \"./CreaturesTemplates.json\";\nimport { dispatchAction } from \"../../vuex/actions\";\nimport gameItems from \"../items/gameItems\";\nimport { Item } from \"../../types\";\nimport { Player } from \"./player\";\nimport { RNG } from \"../utils/RNG\";\nimport { ActivityState, Entity, EntityType, HP } from \"./entity\";\nimport Position, { getRandomPosInChunk } from \"../world/position\";\n\nexport type CreatureName =\n  | \"dragon\"\n  | \"giant\"\n  | \"troll\"\n  | \"orc\"\n  | \"goblin\"\n  | \"thief\"\n  | \"skeleton\"\n  | \"ghost\"\n  | \"giant rat\"\n  | \"giant spider\"\n  | \"wolf\"\n  | \"boar\"\n  | \"snake\"\n  | \"rat\"\n  | \"spider\"\n  | \"fox\"\n  | \"deer\"\n  | \"pig\"\n  | \"rabbit\";\n\nconst AllCreatures = new Map(Object.entries(CreaturesJSON));\n\ninterface CreatureAttack {\n  chance: number;\n  maxDamage: number;\n  messages: string[];\n  minDamage: number;\n  name: string;\n}\n\ntype WeightedAttackMap = {\n  [attackName: string]: number;\n};\n\ntype HarvestItems = Array<{ name: string; quantity: number[] }>;\n\ninterface CreatureTemplate {\n  attacks: CreatureAttack[];\n  attributes: {\n    maxTotalHP: number;\n    minTotalHP: number;\n    healthBar: string;\n    spawnChance: number;\n    aggressive: boolean;\n  };\n  drops: {\n    equipment: string[];\n    gold: {\n      dropChance: number;\n      max: number;\n    };\n    harvest: HarvestItems;\n    potions: {\n      dropChance: number;\n      max: number;\n    };\n  };\n  name: string;\n  namePlural: string;\n  messages: {\n    onDeath: string[];\n    onSpawn: string[];\n  };\n  missChance: number;\n}\n\nexport class Creature extends Entity {\n  aggressive: boolean;\n  attacks: CreatureAttack[];\n  attacksToWeightsMap: WeightedAttackMap;\n  messages: {\n    onDeath: string[];\n    onSpawn: string[];\n  };\n  moveSpeed: number;\n  slots?: any;\n  species: {\n    name: CreatureName;\n    plural: string;\n  };\n  target?: Creature | Player;\n\n  constructor({\n    level,\n    pos,\n    template,\n  }: {\n    level: number;\n    pos: Position;\n    template: CreatureTemplate;\n  }) {\n    const moveSpeed = Math.floor(RNG(20, 600));\n    const hp = Math.floor(RNG(template.attributes.minTotalHP, template.attributes.maxTotalHP));\n    super({\n      attributes: {\n        armour: 1,\n        attackChance: 1 - template.missChance,\n        attackSpeed: 35,\n        damage: 1,\n        dodgeChance: 0.2,\n      },\n      cooldown: moveSpeed,\n      currentActivityState: ActivityState.MOVING,\n      hp: {\n        current: hp,\n        max: hp,\n      } as HP,\n      items: [] as Item[],\n      level: level,\n      position: pos as Position,\n      symbol: template.attributes.healthBar,\n      type: EntityType.Creature,\n    });\n\n    this.species = {\n      name: template.name as CreatureName,\n      plural: template.namePlural,\n    };\n\n    this.aggressive = template.attributes.aggressive;\n\n    this.items = template.drops.harvest\n      .filter(item => gameItems.has(item.name))\n      .map(item => {\n        const quantity =\n          item.quantity[1] !== 1 ? Math.floor(RNG(item.quantity[0], item.quantity[1])) : 1;\n        return gameItems.get(item.name).newItem(quantity);\n      })\n      .concat(getGold(template.drops.gold));\n\n    this.moveSpeed = moveSpeed;\n\n    this.attacks = template.attacks;\n    this.attacksToWeightsMap = this.attacks.reduce(\n      (weights, attack) => {\n        weights[attack.name] = attack.chance;\n        return weights;\n      },\n      {} as WeightedAttackMap\n    );\n\n    this.messages = template.messages;\n  }\n\n  attack() {\n    if (!this.target) {\n      return;\n    }\n\n    const successChance = attackSuccessChance(\n      this.attributes.attackChance,\n      this.target.attributes.dodgeChance\n    );\n\n    if (successChance < RNG()) {\n      if (this.target instanceof Creature) {\n        dispatchAction.AddMessageAtPosition({\n          entity: \"\",\n          message: `The ${this.species.name} missed the ${this.target.species.name}.`,\n          position: this.position,\n        });\n      } else if (this.target instanceof Player) {\n        dispatchAction.AddMessage({\n          entity: this.species.name,\n          message: `The ${this.species.name} missed you.`,\n        });\n      }\n      return;\n    }\n\n    const attackName = ROT.RNG.getWeightedValue(this.attacksToWeightsMap);\n    const attack = this.attacks.find(att => att.name === attackName);\n    if (!attack) {\n      console.error(attackName + \" doesn't exist for \" + this.species.name);\n      return;\n    }\n    const damage = Math.floor((RNG(attack.minDamage, attack.maxDamage) * this.level) / 1.5);\n\n    if (this.target instanceof Creature) {\n      dispatchAction.AddMessageAtPosition({\n        entity: \"\",\n        message: `The ${this.species.name} used ${attackName} on the ${\n          this.target.species.name\n        } for ${damage}.`,\n        position: this.position,\n      });\n    } else if (this.target instanceof Player) {\n      const attackMessage =\n        attack.messages[Math.floor(RNG(attack.messages.length))] + damage + \" HP.\";\n      dispatchAction.AddMessage({\n        entity: this.species.name,\n        message: attackMessage,\n      });\n    }\n\n    this.target.receiveDamage(damage);\n\n    if (this.target.isDead()) {\n      this.currentActivityState = ActivityState.MOVING;\n      this.cooldown = this.moveSpeed;\n      this.level++;\n    }\n  }\n\n  getDeathMessage() {\n    const random = Math.floor(RNG() * this.messages.onDeath.length);\n    return this.messages.onDeath[random];\n  }\n\n  getSpawnMessage() {\n    const random = Math.floor(RNG() * this.messages.onSpawn.length);\n    return this.messages.onSpawn[random];\n  }\n\n  printHPReport(global: boolean = false) {\n    const totalBarLength = 40;\n    const hpPercent = Math.round((this.hp.current / this.hp.max) * 100);\n    const currentHPLength = Math.round((totalBarLength / 100) * hpPercent);\n    const hpReportString = `[${this.symbol.repeat(currentHPLength).padEnd(totalBarLength)}] (${\n      this.hp.current\n    }HP)`;\n\n    // Disable eslint because it complains about ternary indentation\n    /* eslint-disable */\n    global\n      ? dispatchAction.AddMessage({\n          entity: this.species.name,\n          message: hpReportString,\n        })\n      : dispatchAction.AddMessageAtPosition({\n          entity: this.species.name,\n          message: hpReportString,\n          position: this.position,\n        });\n    /* eslint-enable */\n  }\n\n  receiveDamage(damage: number) {\n    this.hp.current = Math.max(0, this.hp.current - damage);\n    if (this.hp.current <= 0) {\n      if (this.target instanceof Player) {\n        dispatchAction.AddMessage({\n          entity: this.species.name,\n          message: this.getDeathMessage(),\n        });\n      } else if (this.target instanceof Creature) {\n        dispatchAction.AddMessageAtPosition({\n          entity: \"\",\n          message: `The ${this.species.name} died and dropped ${this.getItemsPrettyOutput()}.`,\n          position: this.position,\n        });\n      }\n      this.currentActivityState = ActivityState.DEAD;\n      this.dropItems();\n    } else {\n      this.printHPReport();\n    }\n  }\n\n  getItemsPrettyOutput(): string {\n    const items = this.items.reduce(\n      (acc, item) => {\n        if (item === undefined) return acc;\n        if (acc[item.name]) acc[item.name]++;\n        else acc[item.name] = 1;\n        return acc;\n      },\n      {} as { [itemName: string]: number }\n    );\n    const outputs = Object.keys(items).map(itemName => {\n      if (items[itemName] === 1) {\n        return `1 ${itemName}`;\n      } else {\n        // know this is not undefined because we only add to items when things exist in this.items\n        return `${items[itemName]} ${this.items.find(el => el.name === itemName)!.plural}`;\n      }\n    });\n    const output =\n      outputs.length > 1\n        ? outputs.slice(0, -1).join(\", \") + \", and \" + outputs.slice(-1)\n        : outputs[0] || \"\";\n\n    return output;\n  }\n\n  dropItems() {\n    dispatchAction.DropItems({ items: this.items.splice(0), pos: this.position });\n  }\n\n  move() {\n    switch (Math.floor(Math.random() * 4)) {\n      case 0:\n        dispatchAction.MoveCreature({\n          creature: this,\n          newPos: [this.position.x, this.position.y - 1],\n        });\n        this.position.y--;\n        break;\n      case 1:\n        dispatchAction.MoveCreature({\n          creature: this,\n          newPos: [this.position.x, this.position.y + 1],\n        });\n        this.position.y++;\n        break;\n      case 2:\n        dispatchAction.MoveCreature({\n          creature: this,\n          newPos: [this.position.x - 1, this.position.y],\n        });\n        this.position.x--;\n        break;\n      case 3:\n        dispatchAction.MoveCreature({\n          creature: this,\n          newPos: [this.position.x + 1, this.position.y],\n        });\n        this.position.x++;\n        break;\n    }\n  }\n\n  targetCreatures(creatures: Creature[]) {\n    for (const c of creatures) {\n      if (c === this) {\n        continue;\n      }\n      if (\n        c.hp.current < this.hp.current &&\n        this.currentActivityState === ActivityState.MOVING &&\n        c.currentActivityState === ActivityState.MOVING\n      ) {\n        this.currentActivityState = ActivityState.FIGHTING;\n        c.currentActivityState = ActivityState.FIGHTING;\n        this.target = c;\n        c.target = this;\n        this.cooldown = this.attributes.attackSpeed;\n        c.cooldown = c.attributes.attackSpeed + 10; // aggressor attacks first\n      }\n    }\n  }\n\n  targetPlayer(player: Player) {\n    if (\n      this.currentActivityState === ActivityState.MOVING &&\n      player.currentActivityState === ActivityState.MOVING\n    ) {\n      dispatchAction.AddMessage({\n        entity: this.species.name,\n        message: this.getSpawnMessage(),\n      });\n      this.currentActivityState = ActivityState.FIGHTING;\n      player.currentActivityState = ActivityState.FIGHTING;\n      this.target = player;\n      player.target = this;\n      this.cooldown = this.attributes.attackSpeed;\n    }\n  }\n\n  update() {\n    if (this.cooldown > 0) {\n      this.cooldown--;\n      return;\n    }\n\n    switch (this.currentActivityState) {\n      case ActivityState.MOVING:\n        this.cooldown = this.moveSpeed;\n        this.move();\n        break;\n      case ActivityState.FIGHTING:\n        this.cooldown = this.attributes.attackSpeed;\n        this.attack();\n        break;\n      case ActivityState.DEAD:\n        this.cooldown = 0;\n        break;\n    }\n  }\n}\n\nconst getGold = ({ max, dropChance }: { max: number; dropChance: number }): Item[] => {\n  const gold = [];\n  if (RNG() < dropChance) {\n    const quantity = Math.floor(RNG(max));\n    for (let i = 0; i < quantity; i++) {\n      gold.push(gameItems.get(\"gold\").newItem());\n    }\n  }\n  return gold;\n};\n\nconst getItems = (creatureItemsArray: HarvestItems): Item[] => {\n  let items: Item[] = [];\n  creatureItemsArray.forEach(item => {\n    if (gameItems.has(item.name)) {\n      let quantity;\n      if (item.quantity[1] !== 1) {\n        quantity =\n          Math.floor(Math.random() * (item.quantity[1] - item.quantity[0] + 1)) + item.quantity[0];\n      } else {\n        quantity = 1;\n      }\n      for (let i = 0; i < quantity; i++) {\n        let newItem = gameItems.get(item.name).newItem();\n        items.push(newItem);\n      }\n    }\n  });\n  return items;\n};\n\nexport const genCreatures = (\n  chunkSize: number,\n  left: number,\n  top: number,\n  playerLevel: number = 1\n) => {\n  AllCreatures.forEach(c => {\n    let numberInChunk = Math.round(c.attributes.spawnChance * 0.5 * chunkSize ** 2);\n    for (let i = 0; i < numberInChunk; i++) {\n      let creatureLevel = Math.ceil(Math.random() * playerLevel * 1.5);\n      let pos = getRandomPosInChunk(chunkSize, left, top);\n      let creature = new Creature({\n        level: creatureLevel,\n        pos: pos,\n        template: c,\n      });\n      dispatchAction.AddCreature(creature);\n    }\n  });\n};\n","const genTree = () => {\n  const trees = [\n    {\n      prob: 40,\n      symbol: \"\",\n    },\n    // {\n    //   prob: 20\n    //   symbol: \"\",\n    // },\n    // {\n    //   prob: 15\n    //   symbol: \"\",\n    // },\n    {\n      prob: 22,\n      symbol: \"\",\n    },\n    {\n      prob: 18,\n      symbol: \"\",\n    },\n    {\n      prob: 6,\n      symbol: \"\",\n    },\n    {\n      prob: 5,\n      symbol: \"\",\n    },\n    {\n      prob: 10,\n      symbol: \"\",\n    },\n    {\n      prob: 4,\n      symbol: \"\",\n    },\n    {\n      prob: 4,\n      symbol: \"\",\n    },\n    {\n      prob: 2,\n      symbol: \"\",\n    },\n    {\n      prob: 2,\n      symbol: \"\",\n    },\n    {\n      prob: 2,\n      symbol: \"\",\n    },\n    // {\n    //   \"prob\": 1\n    //   \"symbol\": \"\",\n    // },\n    {\n      prob: 1,\n      symbol: \"\",\n    },\n  ];\n\n  trees.sort((a, b) => b.prob - a.prob);\n  let total = trees.reduce((acc, el) => (el.prob += acc), 0);\n  let rand = Math.floor(Math.random() * total);\n  let tree = 0;\n  while (rand >= trees[tree + 1].prob) {\n    tree++;\n  }\n  return trees[tree].symbol;\n};\n\nexport default genTree;\n","import Chunk from \"./Chunk\";\nimport { Creature } from \"../entities/creatures\";\nimport genTree from \"./genTree\";\nimport { Item } from \"../../types\";\nimport { Vector } from \"./position\";\n\ntype Terrain = \"forest\" | \"mountain\" | \"hills\" | \"river\";\n\nexport default class Tile {\n  chunk: Chunk;\n  display: string;\n  foreground: string;\n  items: Item[];\n  relPos: Vector;\n  spawnRateModifiers: Map<Creature, number>;\n\n  constructor(x: number, y: number, chunk: Chunk, terrain?: Terrain) {\n    this.chunk = chunk;\n    this.items = [];\n    this.relPos = [x, y];\n\n    switch (terrain) {\n      case \"forest\":\n        this.display = genTree();\n        this.foreground = \"#086623\";\n        break;\n      default:\n        this.display = \"\";\n        this.foreground = \"#855e40\";\n        break;\n    }\n    this.spawnRateModifiers = new Map();\n  }\n\n  setSpawnRateMod(creature: Creature, spawnrate: number) {\n    this.spawnRateModifiers.set(creature, spawnrate);\n  }\n\n  getSpawnRateMod(creature: Creature) {\n    return this.spawnRateModifiers.has(creature) ? this.spawnRateModifiers.get(creature) : 1;\n  }\n}\n","import { genCreatures } from \"../entities/creatures\";\nimport store from \"../../vuex/store\";\nimport Tile from \"./Tile\";\nimport { Vector } from \"./position\";\nimport World from \"./World\";\nimport { Direction, parseDir } from \"../utils/direction\";\n\nconst CHUNK_SIZE: number = 64;\n\nexport default class Chunk {\n  pos: Vector;\n  world: World;\n  tiles: Array<Tile[]>;\n\n  constructor(x: number, y: number, world: World) {\n    this.pos = [x, y];\n    // this.x = x;\n    // this.y = y;\n    this.world = world;\n    this.tiles = [];\n\n    for (let i = 0; i < CHUNK_SIZE; i++) {\n      this.tiles[i] = [];\n      for (let j = 0; j < CHUNK_SIZE; j++) {\n        if (Math.random() > 0.4) {\n          this.tiles[i][j] = new Tile(i, j, this, \"forest\");\n        } else {\n          this.tiles[i][j] = new Tile(i, j, this);\n        }\n      }\n    }\n\n    this.generate();\n  }\n\n  static get size() {\n    return CHUNK_SIZE;\n  }\n\n  getAdjChunk(direction: Direction) {\n    const [x, y] = parseDir(direction);\n    return this.world.getChunk(this.pos[0] + x, this.pos[1] + y);\n  }\n\n  getTile(x: number, y: number) {\n    return this.tiles[x][y];\n  }\n\n  getTileFromWorldCoords(tileX: number, tileY: number) {\n    return this.getTile(\n      Math.abs((Chunk.size + tileX) % Chunk.size),\n      Math.abs((Chunk.size + tileY) % Chunk.size)\n    );\n  }\n\n  generate() {\n    // console.info(\"Generating: %O\", this);\n    // Terrain -> structure -> creatures -> player\n    let pLvl = store.getters.playerLevel;\n    genCreatures(Chunk.size, this.pos[0], this.pos[1], pLvl);\n  }\n}\n","import Chunk from \"./Chunk\";\nimport { Player } from \"../entities/player\";\nimport { RNG } from \"../utils/RNG\";\nimport Tile from \"./Tile\";\nimport { Vector, VTS } from \"./position\";\n\nexport default class World {\n  chunks: {\n    [origin: string]: Chunk;\n  };\n  spawnChunk: Chunk;\n\n  constructor() {\n    this.chunks = {};\n\n    // Generate starting chunk\n    this.spawnChunk = this.genChunk(0, 0);\n    // Generate surrounding chunks\n    [[0, 1], [0, -1], [1, 0], [-1, 0]].forEach(c => {\n      // console.log(\"generating chunk\", c[0], c[1]);\n      this.genChunk(...(c as [number, number]));\n    });\n\n    // constructor(type, size) {\n    //   this.chunks = new Map();\n    //   this.type = type; // Example types: dungeon, forest, dragon-lair\n    //   this.size = size > 0 ? size : 8; // Arbitrary limit for player spawn chunk\n    //   let spawnChunk = this.genChunk(Math.floor(RNG(this.size)), Math.floor(RNG(this.size)));\n  }\n\n  getChunk(x: number, y: number) {\n    return this.chunks[VTS(x, y)];\n  }\n\n  chunkExists(x: number, y: number): boolean {\n    return this.chunks[VTS(x, y)] !== undefined;\n  }\n\n  genChunk(x: number, y: number) {\n    let chunk = new Chunk(x, y, this);\n    this.chunks[VTS(x, y)] = chunk;\n    return chunk;\n  }\n\n  getChunkFromTile(x: number, y: number): Chunk {\n    const chunkCoords: Vector = [Math.floor(x / Chunk.size), Math.floor(y / Chunk.size)];\n    if (this.chunkExists(...chunkCoords)) {\n      return this.getChunk(...chunkCoords)!;\n    } else {\n      return this.genChunk(...chunkCoords);\n    }\n  }\n\n  getTile(x: number, y: number): Tile {\n    return this.getChunkFromTile(x, y).getTileFromWorldCoords(x, y);\n  }\n}\n","import { ActivityState } from \"../../entities/entity\";\nimport { Direction } from \"../../utils/direction\";\nimport { dispatchAction } from \"../../../vuex/actions\";\nimport { display } from \"../../overview/Display\";\nimport displayConf from \"../../config/display.json\";\nimport gameloop from \"../../gameloop\";\nimport { GameState } from \"../GameState\";\nimport { gsMan } from \"../gsMan\";\nimport store from \"../../../vuex/store\";\nimport World from \"../../world/World\";\n\nexport class MainGameState extends GameState {\n  constructor() {\n    super(\"main\");\n  }\n\n  init(): void {\n    display.clear();\n    display.setOptions(displayConf.main);\n\n    dispatchAction.SetWorld(new World());\n\n    // Resize only after resetting font size to default\n    const overviewDiv = document.querySelector(\"#overview\");\n\n    // Don't continue running if div doesn't exist\n    if (!overviewDiv) {\n      console.error(\"Overview div not found (css selector #overview)\");\n      return;\n    }\n\n    const { width: divWidth, height: divHeight } = overviewDiv.getBoundingClientRect();\n    const [width, height] = display.computeSize(divWidth, divHeight);\n    display.setOptions({\n      height: height,\n      width: width,\n    });\n\n    display.drawText(0, 0, \"Main state initialised\");\n    display.drawText(2, 2, \"Player: \" + store.getters.playerName);\n\n    display.drawWorld();\n\n    dispatchAction.AddMessage({\n      entity: \"\",\n      message:\n        \"You find yourself in the middle of a forest. Looking around, you see trees extending \" +\n        \"off into the distance.\",\n    });\n    dispatchAction.AddMessage({\n      entity: \"Controls:\",\n      message:\n        \"Use the arrow keys to move around. Additionally, you can press 'enter' to enter \" +\n        \"command mode, where you can type commands to interact with the world. Try entering \" +\n        \"/help in this mode for a list of commands. You can press 'escape' to unfocus the \" +\n        \"command input to use arrow keys to move around.\",\n    });\n\n    gameloop.run();\n  }\n\n  redraw(): void {\n    display.drawWorld();\n  }\n\n  keyDown(input: string) {\n    if (store.getters.instantMode) {\n      // Handle as an instant command\n      switch (input) {\n        case \"ArrowUp\":\n          dispatchAction.MovePlayer(Direction.NORTH);\n          display.drawWorld();\n          break;\n        case \"ArrowDown\":\n          dispatchAction.MovePlayer(Direction.SOUTH);\n          display.drawWorld();\n          break;\n        case \"ArrowLeft\":\n          dispatchAction.MovePlayer(Direction.WEST);\n          display.drawWorld();\n          break;\n        case \"ArrowRight\":\n          dispatchAction.MovePlayer(Direction.EAST);\n          display.drawWorld();\n          break;\n\n        case \"a\":\n          const pos = store.getters.playerPos;\n          const creatures = store.getters.creaturesAt(pos.x, pos.y);\n          if (creatures.length) {\n            let target = 0;\n            let haveFoundTarget = false;\n            while (target < creatures.length && !haveFoundTarget) {\n              if (\n                !creatures[target].isDead() &&\n                creatures[target].currentActivityState === ActivityState.MOVING\n              ) {\n                haveFoundTarget = true;\n              } else {\n                target++;\n              }\n            }\n\n            if (haveFoundTarget) {\n              dispatchAction.AddMessage({\n                entity: \"\",\n                message: `You attack the ${creatures[target].species.name}.`,\n              });\n              store.getters.player.targetCreature(creatures[target]);\n            } else {\n              dispatchAction.AddMessage({\n                entity: \"\",\n                message:\n                  \"You cannot attack these creatures because they are dead or already fighting.\",\n              });\n            }\n          } else {\n            dispatchAction.AddMessage({\n              entity: \"\",\n              message: \"There is nothing here to attack.\",\n            });\n          }\n          break;\n        case \"r\":\n          store.getters.player.run();\n          display.drawWorld();\n          break;\n\n        default:\n          break;\n      }\n      dispatchAction.Highlight({});\n    }\n  }\n\n  keyUp(input: string) {\n    if (store.getters.instantMode) {\n      // do nothing\n    }\n  }\n\n  receiveInputText(input: string) {\n    if (!store.getters.instantMode) {\n      if (/^\\/help$/.test(input)) {\n        dispatchAction.AddMessage({\n          entity: \"Help\",\n          message:\n            \"Press 'enter' to enter typed command mode, and 'escape' to get back to command \" +\n            \"mode.\\nYou can right-click on the map to see what is on that tile.\",\n        });\n      } else {\n        if (/^run$/.test(input.trim())) {\n          store.getters.player.run();\n        } else {\n          // Handle as text command\n          dispatchAction.AddMessage({\n            entity: \"Main state\",\n            message: \"Response to \" + input,\n          });\n        }\n      }\n    }\n  }\n}\n\nexport const gsMain = new MainGameState();\n","const firstNames: string[] = [\n  \"Anno\",\n  \"Panteleon\",\n  \"Orderic\",\n  \"Sancho\",\n  \"Bucca\",\n  \"Arbitio\",\n  \"Ledger\",\n  \"Ricchar\",\n  \"Halinard\",\n  \"Willibrord\",\n  \"Reginar\",\n  \"Gararic\",\n  \"Gararic\",\n  \"Walcaud\",\n  \"Merimas\",\n  \"Dagaric\",\n  \"Crassus\",\n  \"Theuderic\",\n  \"Marcomir\",\n  \"Alberic\",\n  \"Bobuth\",\n  \"Thakkarlig\",\n  \"Thondraec\",\n  \"Nedden\",\n  \"Dwogratin\",\n  \"Grarnec\",\n  \"Fikherlum\",\n  \"Dodoir\",\n  \"Khouthaer\",\n  \"Thongraet\",\n  \"Illithor\",\n  \"Naertho\",\n  \"Inchel\",\n  \"Emmyth\",\n  \"Ayred\",\n  \"Elpaerae\",\n  \"Albondiel\",\n  \"Orndacil\",\n  \"Uldreiyn\",\n  \"Zaltarish\",\n  \"Almithara\",\n  \"Tisharu\",\n  \"Sphiel\",\n  \"Nylaathria\",\n  \"Shearah\",\n  \"Ghilanna\",\n  \"Salihn\",\n  \"Talila\",\n  \"Thasitalia\",\n  \"Merialeth\",\n  \"Rain\",\n  \"Aloha\",\n  \"Lazuli\",\n  \"Herb\",\n  \"Bim\",\n  \"Barley\",\n  \"Walnut\",\n  \"Astro\",\n  \"Axis\",\n  \"Sprinkle\",\n  \"Crisdyr\",\n  \"Jarmon\",\n  \"Leoellan\",\n  \"Lamtar\",\n  \"Clerdil\",\n  \"Yorladar\",\n  \"Rainrath\",\n  \"Eirlamar\",\n  \"Vicphar\",\n  \"Audlamar\",\n  \"Matfrid\",\n  \"Bovo\",\n  \"Bingo\",\n  \"Hartmut\",\n  \"Hildebald\",\n  \"Dudo\",\n  \"Chlotar\",\n  \"Samo\",\n  \"Wala\",\n  \"Ouen\",\n  \"Madelgarde\",\n  \"Katie\",\n  \"Tanta\",\n  \"May\",\n  \"Engelberga\",\n  \"Rosamund\",\n  \"Tanta\",\n  \"Emily\",\n  \"Tavia\",\n  \"Fallon\",\n  \"Linda\",\n  \"Duenna\",\n  \"Adaltrude\",\n  \"Lenora\",\n  \"Regina\",\n  \"May\",\n  \"Tatiana\",\n  \"Pansy\",\n  \"Kelsey\",\n  \"Nantechildis\",\n  \"Ceufroy\",\n  \"Humbert\",\n  \"Fastolph\",\n  \"Dodo\",\n  \"Heribert\",\n  \"Imbert\",\n  \"Audoen\",\n  \"Leuthere\",\n  \"Hagen\",\n  \"Childeric\",\n  \"Fulcaire\",\n  \"Sagramor\",\n  \"Roderic\",\n  \"Ricbodo\",\n  \"Marmadoc\",\n  \"Richomer\",\n  \"Badegisel\",\n  \"Orlando\",\n  \"Guido\",\n  \"Rathar\",\n  \"Walaric\",\n  \"Gouzlim\",\n  \"Adelard\",\n  \"Gerontius\",\n  \"Theobald\",\n  \"Jolly\",\n  \"Goisfrid\",\n  \"Bingo\",\n  \"Benild\",\n  \"Anno\",\n  \"Willichar\",\n  \"Brocard\",\n  \"Panteleon\",\n  \"Hildebald\",\n  \"Bilcuzal\",\n  \"Chlodmer\",\n  \"Norbert\",\n  \"Hunald\",\n  \"Marroc\",\n  \"Theudebald\",\n  \"Nun\",\n  \"Llund\",\n  \"Hridr\",\n  \"Khesnoll\",\n  \"Geillvand\",\n  \"Unngold\",\n  \"Tyonnith\",\n  \"Tufveikr\",\n  \"Prinnuyvirn\",\n  \"Bopluludr\",\n  \"Khuh\",\n  \"Seh\",\n  \"Ga\",\n  \"Sholmof\",\n  \"Gwaecu\",\n  \"Makeil\",\n  \"Steshesh\",\n  \"Rhilgrann\",\n  \"Thugreafthu\",\n  \"Friymiolde\",\n  \"Kran\",\n  \"Grerv\",\n  \"Dhub\",\n  \"Druat\",\n  \"Golk\",\n  \"Totzak\",\n  \"Vognoub\",\n  \"Krunguab\",\n  \"Zucriag\",\n  \"Bretto\",\n  \"Tabbun\",\n  \"Bhoda\",\n  \"Ruruah\",\n  \"Choetoe\",\n  \"Ashai\",\n  \"Traka\",\n  \"Esi\",\n  \"Skudis\",\n  \"Eenaah\",\n  \"Biza\",\n];\n\nconst lastNames: string[] = [\n  \"Undertree\",\n  \"Proudbottom\",\n  \"Hairyfoot\",\n  \"Riverhopper\",\n  \"Gamwich\",\n  \"Fleetfoot\",\n  \"Oakbottom\",\n  \"Gawkroger\",\n  \"Swiftfoot\",\n  \"Oldbuck\",\n  \"Thornburrow\",\n  \"Greenhand\",\n  \"Fleetfoot\",\n  \"North-took\",\n  \"Featherbottom\",\n  \"Gluttonbelly\",\n  \"Noakes\",\n  \"Leafwalker\",\n  \"Underburrow\",\n  \"Twofoot\",\n  \"Runebelly\",\n  \"Ingotarm\",\n  \"Opalmane\",\n  \"Mountainthane\",\n  \"Beastarmour\",\n  \"Hardbranch\",\n  \"Largeblade\",\n  \"Caveshaper\",\n  \"Dragonbraids\",\n  \"Shadowbraids\",\n  \"Wysakian\",\n  \"Heidi\",\n  \"Eilsandoral\",\n  \"Hercan\",\n  \"Thewarin\",\n  \"Vahorn\",\n  \"Virfina\",\n  \"Olaric\",\n  \"Olarora\",\n  \"Brynala\",\n  \"Valsys\",\n  \"Ulabella\",\n  \"Inalamin\",\n  \"Gilphine\",\n  \"Wranharice\",\n  \"Sarvyre\",\n  \"Fenqen\",\n  \"Eladithas\",\n  \"Wranjor\",\n  \"Gendove\",\n  \"Mossymint\",\n  \"Silkblossom\",\n  \"Mistytwist\",\n  \"Falconfoam\",\n  \"Frozengrace\",\n  \"Fernfleck\",\n  \"Woodpond\",\n  \"Cricketfeet\",\n  \"Cloudylace\",\n  \"Beechwillow\",\n  \"Elydark\",\n  \"Zinran\",\n  \"Farvalur\",\n  \"Chaesandoral\",\n  \"Wyngolor\",\n  \"Reynala\",\n  \"Quinan\",\n  \"Daewarin\",\n  \"Ravaric\",\n  \"Sylxidor\",\n  \"Riverhopper\",\n  \"Grubb\",\n  \"Cutton\",\n  \"Oakbottom\",\n  \"Fairbairn\",\n  \"Maggot\",\n  \"Whitbottom\",\n  \"Pott\",\n  \"Banks\",\n  \"Hlothran\",\n  \"Bunce\",\n  \"Noakesburrow\",\n  \"Baggins\",\n  \"Hopesinger\",\n  \"Proudbody\",\n  \"Sackville\",\n  \"Boffin\",\n  \"Fallohide\",\n  \"Silentfoot\",\n  \"Greenhand\",\n  \"Bilberry\",\n  \"Silentfoot\",\n  \"Finnagund\",\n  \"Pott\",\n  \"Silverstring\",\n  \"Butcher\",\n  \"Clayhanger\",\n  \"Littlefoot\",\n  \"Wanderfoot\",\n  \"Maggot\",\n  \"Brockhouse\",\n  \"Underburrow\",\n  \"Chubb\",\n  \"Bolger-Baggins\",\n  \"Boffin\",\n  \"Underfoot\",\n  \"Brown\",\n  \"Bottomhill\",\n  \"Whitfoot\",\n  \"Longriver\",\n  \"Brandybuck\",\n  \"Heathertoes\",\n  \"Dewfoot\",\n  \"Leafwalker\",\n  \"Featherbottom\",\n  \"Greenhand\",\n  \"Sandheaver\",\n  \"Noakes\",\n  \"Grubb\",\n  \"Galbassi\",\n  \"Farfoot\",\n  \"Littlefoot\",\n  \"Thornburrow\",\n  \"Tunnelly\",\n  \"Sandheaver\",\n  \"Noakesburrow\",\n  \"Longriver\",\n  \"Goodsong\",\n  \"Baggins\",\n  \"Lothran\",\n  \"Longbottom\",\n  \"North-took\",\n  \"Whitfoot\",\n  \"Bolger\",\n  \"Twofoot\",\n  \"Longfoot\",\n  \"Brandybuck\",\n  \"Gardner\",\n  \"Brown\",\n  \"Emberswallow\",\n  \"Masterflower\",\n  \"Fusedown\",\n  \"Greensnow\",\n  \"Roughsteel\",\n  \"Netherbrook\",\n  \"Lightningarrow\",\n  \"Ravenbringer\",\n  \"Spiritfist\",\n  \"Mountainbough\",\n  \"Woodbelly\",\n  \"Dustbrand\",\n  \"Darkless\",\n  \"Mourningeye\",\n  \"Earthstalker\",\n  \"Hallowedslayer\",\n  \"Gloomfire\",\n  \"Thunderlance\",\n  \"Autumnbreaker\",\n  \"Clanhell\",\n  \"Dawnstrider\",\n  \"Strongbash\",\n  \"Eaglemore\",\n  \"Barleyswift\",\n  \"Wolfswift\",\n  \"Netherflame\",\n  \"Laughingcrusher\",\n  \"Feathertail\",\n  \"Dayfallow\",\n  \"Dusktail\",\n  \"Cliffswift\",\n  \"Silenttalon\",\n  \"Firespire\",\n  \"Willowdraft\",\n  \"Earthshot\",\n  \"Doomhell\",\n  \"Snowgrain\",\n  \"Gloomwalker\",\n  \"Hazesword\",\n  \"Grandstream\",\n];\n\nconst fullNames: string[] = [\n  \"Fredericus the Deviant\",\n  \"Euvrouin the Bald\",\n  \"Gilebert the Clever\",\n  \"Urian the Guardian\",\n  \"Salaman the Smiling\",\n  \"Symkyn of the Snow\",\n  \"Nick the Lion\",\n  \"Nicolas the Brute\",\n  \"Guarinet the Champion\",\n  \"Ronald the Warm\",\n  \"Maughtild the Stubborn\",\n  \"Aelis the Creature\",\n  \"Aleneite the Selfish\",\n  \"Saloua the Defender\",\n  \"Imagantia the Honest\",\n  \"Lunet the Fierce\",\n  \"Catrain the Brilliant\",\n  \"Elyzabeth the Righteous\",\n  \"Rosemond the Gentlewoman\",\n  \"Lilias the Giant\",\n  \"Archbishop Seri\",\n  \"Monk Aurri\",\n  \"Viscount Euvrouin\",\n  \"Count Dreu\",\n  \"Landgrave Cristoffle\",\n  \"Vicar Pearse\",\n  \"Admiral Galter\",\n  \"Knight Simkin\",\n  \"Peasant Sam\",\n  \"Lord Nicolin\",\n  \"Peasant Henriot\",\n  \"Vicar Ernest\",\n  \"Peasant Ludovicus\",\n  \"Count Davi\",\n  \"Monk Tobyn\",\n  \"King Adie\",\n  \"Yeoman Acelin\",\n  \"Cardinal Hurrey\",\n  \"Baronet Tobye\",\n  \"Admiral Gerrart\",\n  \"Queen Gennon\",\n  \"Queen Tiffan\",\n  \"Squire Luanda\",\n  \"Peasant Juliana\",\n  \"Duchess Emmony\",\n  \"Princess Consort Madlin\",\n  \"Grand Duchess Richmal\",\n  \"Princess Lunete\",\n  \"Countess Ela\",\n  \"Countess Isota\",\n];\n\nexport const generateName = (): string => {\n  let name = \"\";\n\n  if (Math.random() < 0.1) {\n    let n = Math.floor(Math.random() * fullNames.length);\n    name = fullNames[n];\n  } else {\n    let f = Math.floor(Math.random() * firstNames.length);\n    let l = Math.floor(Math.random() * lastNames.length);\n    name = `${firstNames[f]} ${lastNames[l]}`;\n  }\n  return name;\n};\n","import { dispatchAction } from \"../../../vuex/actions\";\nimport { display } from \"../../overview/Display\";\nimport displayConf from \"../../config/display.json\";\nimport { GameState } from \"../GameState\";\nimport { generateName } from \"../../utils/nameGenerator\";\nimport { gsMan } from \"../gsMan\";\nimport { Player } from \"../../entities/player\";\nimport store from \"../../../vuex/store\";\n\nexport class StartGameState extends GameState {\n  playerName: string;\n\n  constructor() {\n    super(\"start\");\n    this.playerName = \"\";\n  }\n\n  init(): void {\n    display.setOptions(displayConf.start);\n    display.draw(4, 1, \"Trymunx's\", \"#8a8c89\", null);\n    display.draw(4, 2, \"Dragon Slayer\", \"#086623\", null);\n\n    dispatchAction.AddMessage({\n      entity: \"Welcome\",\n      message:\n        \"Greetings adventurer. Please enter your name to begin, or type /generate to have one \" +\n        \"generated for you.\",\n    });\n  }\n\n  receiveInputText(input: string): void {\n    if (this.playerName === \"\") {\n      this.confirmPlayerName(input);\n    } else {\n      switch (input.toUpperCase()) {\n        case \"YES\":\n        case \"Y\":\n          dispatchAction.SetPlayer(new Player(this.playerName));\n          dispatchAction.SetSplash(false);\n          gsMan.nextState(this);\n          break;\n        case \"NO\":\n        case \"N\":\n          this.playerName = \"\";\n          dispatchAction.SetPlayerName(\"\");\n          dispatchAction.AddMessage({\n            entity: \"Game\",\n            message: \"Please enter a name, or type /generate to have one generated for you.\",\n          });\n          break;\n        case \"/GEN\":\n        case \"/GENERATE\":\n          this.confirmPlayerName(\"/gen\");\n          break;\n        default:\n          this.confirmPlayerName(this.playerName);\n      }\n    }\n  }\n\n  redraw(): void {\n    display.setOptions(displayConf.start);\n    display.draw(4, 1, \"Trymunx's\", \"#8a8c89\", null);\n    display.draw(4, 2, \"Dragon Slayer\", \"#086623\", null);\n  }\n\n  confirmPlayerName(input: string): void {\n    if (/^\\/gen$/.test(input) || /^\\/generate$/.test(input)) {\n      input = generateName();\n    }\n    this.playerName = input;\n    dispatchAction.SetPlayerName(input);\n    dispatchAction.AddMessage({\n      entity: \"Confirm name:\",\n      message: `Your name is ${input}. Use this name? [yes/no]`,\n    });\n  }\n}\n\nexport const gsStart = new StartGameState();\n","import { GameState } from \"./GameState\";\nimport { gsMain, MainGameState } from \"./gStates/gsMain\";\nimport { gsStart, StartGameState } from \"./gStates/gsStart\";\n\nclass GameStateManager {\n  state?: GameState;\n\n  StartGame() {\n    this.state = gsStart;\n    this.state.init();\n  }\n\n  receiveInputKeyUp(input: string) {\n    if (this.state instanceof MainGameState) {\n      this.state.keyUp(input);\n    }\n  }\n  receiveInputKeyDown(input: string) {\n    if (this.state instanceof MainGameState) {\n      this.state.keyDown(input);\n    }\n  }\n  receiveInputText(text: string) {\n    console.log(text);\n    if (this.state && this.state.receiveInputText) {\n      this.state.receiveInputText(text);\n    }\n  }\n\n  redraw() {\n    if (this.state && this.state.redraw) {\n      this.state.redraw();\n    }\n  }\n\n  nextState(caller: GameState) {\n    switch (caller.name) {\n      case \"start\":\n        this.state = gsMain;\n        break;\n      case \"main\":\n        break;\n      case \"end\":\n        this.state = gsStart;\n        break;\n      default:\n        console.error(`${caller.name} is not a registered game state.`);\n    }\n    this.state && this.state.init();\n  }\n}\n\nexport const gsMan = new GameStateManager();\n","import _Vue from \"vue\";\nimport { gsMan } from \"./state/gsMan\";\nimport { display, Display } from \"./overview/Display\";\n// import PluginFunction from \"vue/types\";\n// import store from \"../vuex/store\";\n// import CommandParser from \"./Commands/CommandParser\";\n\nexport interface gamePlugin {\n  start: () => void;\n  receiveInputKeyUp: (input: string) => void;\n  receiveInputKeyDown: (input: string) => void;\n  receiveInputText: (text: string) => void;\n  parseCommand: (command: string) => void;\n  worldExists: () => boolean;\n  displaySplash: () => void;\n  display: Display;\n}\n\nexport default function install<T>(Vue: typeof _Vue, options?: T): void {\n  Vue.prototype.$game = {\n    display: display,\n    parseCommand(command) {\n      // return CommandParser.ParseCommand(command);\n      console.log(\"Parsing \" + command);\n    },\n    receiveInputKeyDown(input) {\n      gsMan.receiveInputKeyDown(input);\n    },\n    receiveInputKeyUp(input) {\n      gsMan.receiveInputKeyUp(input);\n    },\n    receiveInputText(text) {\n      gsMan.receiveInputText(text);\n    },\n    start() {\n      gsMan.StartGame();\n    },\n  } as gamePlugin;\n}\n","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport App from \"./App.vue\";\nimport { mixin as contextMixin } from \"./components/ContextMenu.vue\";\nimport game from \"./game/vue-game-plugin\";\nimport store from \"./vuex/store\";\nimport Vue from \"vue\";\n\nVue.config.productionTip = false;\nVue.use(game);\nVue.mixin(contextMixin);\n\nnew Vue({\n  render: h => h(App),\n  store,\n}).$mount(\"#app\");\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}